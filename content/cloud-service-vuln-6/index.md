---
emoji: ðŸ¤­
title: "í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì·¨ì•½ì  ë¶„ì„ 6 (CloudGoat: EC2 SSRF)"
author: Zer0Luck
date: '2021-12-31 13:12:21'
categories: CLOUD
tags: Cloud Vulnerability Security
---
# í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì·¨ì•½ì  ë¶„ì„ 6

# [Scenario 5]: EC2 SSRF

```bash
Size: Medium
Difficulty: Moderate
Command: $ ./cloudgoat.py create ec2_ssrf
```

## ì‹œë‚˜ë¦¬ì˜¤ ê°œìš”

### ìžì›

- VPC (EC2)
- Lambda Function
- 1 S3 Bucket

### ì·¨ì•½ì 

- Solus IAM ì‚¬ìš©ìž
- Lambda í•¨ìˆ˜ ì½ê¸° ì „ìš© ê¶Œí•œ
- Lambda í™˜ê²½ ë³€ìˆ˜ì•ˆì— í•˜ë“œì½”ë”©ëœ Wrex Access key
- í•˜ë“œì½”ë”©ëœ ë¯¼ê°í•œ ë°ì´í„° ì •ë³´
- ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ SSRF ì·¨ì•½ì ìœ¼ë¡œ ì¸í•œ AWS ë©”íƒ€ë°ì´í„° APIë¥¼ í†µí•´ì„œ ë‹¤ë¥¸ Credential ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€
- Admin Credential ì •ë³´ê°€ S3 Bucket ë‚´ì— í•˜ë“œ ì½”ë”©ë˜ì–´ ì €ìž¥

### ëª©í‘œ

- `cg-lambda-/cloud goat id/` ëžŒë‹¤ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
- Solus IAM ì‚¬ìš©ìžë¡œ ì‹œìž‘í•´ì„œ Lambda í•¨ìˆ˜ë¥¼ ì½ì„ ìˆ˜ ìžˆëŠ” ê¶Œí•œì„ ë°œê²¬í•˜ì˜€ìŠµë‹ˆë‹¤.
- SSRFì— ì·¨ì•½í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ë¡œ ìœ ë„í•©ë‹ˆë‹¤.
- ì·¨ì•½í•œ ì•±ì„ Exploití•˜ê³  EC2 Metadata Serviceì—ì„œ Keyë¥¼ íšë“í•œ í›„ ê³µê²©ìžëŠ” Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ì™„ë£Œí•  ìˆ˜ ìžˆëŠ” Keyë¥¼ íšë“í•¨ìœ¼ë¡œì¨ ê¶Œí•œì„ íƒˆì·¨ë¥¼ í•©ë‹ˆë‹¤.

### exploit íë¦„ë„

![31.png](./31.png)

### ì‹œë‚˜ë¦¬ì˜¤ í™˜ê²½ì„¤ì •

![](./0.png)

### exploit ì‹œë‚˜ë¦¬ì˜¤ íë¦„ë„

1. IAM ì— í¬í•¨ëœ Solus ê³„ì •ì„ í† ëŒ€ë¡œ AWS í™˜ê²½ì„ ë¶„ì„í•˜ê³  ê³„ì •ì—ì„œ Lambda í•¨ìˆ˜ ë¦¬ìŠ¤íŠ¸ë“¤ì´ ìžˆìŒì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.
2. Lambda í•¨ìˆ˜ ë‚´ì—ì„œ ê³µê²©ìžëŠ” ë‹¤ë¥¸ ì‚¬ìš©ìžì¦‰ IAM ì‚¬ìš©ìž Wrexì— ì†í•œ AWS Access keyë¥¼ ì°¾ìŠµë‹ˆë‹¤.
3. IAM Wrex ì‚¬ìš©ìž ë¡œ ìž‘ë™í•˜ëŠ” ê³µê²¨ìžëŠ” SSRF ì·¨ì•½ì ì— ì·¨ì•½í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‹¤í–‰í•˜ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°œê²¬í•©ë‹ˆë‹¤.
4. GET ë©”ì„œë“œë¡œ ìš”ì²­ì„ ë³´ë‚¼ë•Œ `url` íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ SSRF ì·¨ì•½ì ì„ íŠ¸ë¦¬ê±°í•˜ì—¬ ê³µê²©ìžëŠ” EC2 Metadata serviceì—ì„œ AWS í‚¤ë¥¼ íƒˆì·¨í•©ë‹ˆë‹¤.
5. ê³µê²©ìžëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ì˜ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¶Œí•œì´ ë” ë†’ì€ ì‚¬ìš©ìžì¸ Shepardì— ëŒ€í•œ ë‹¤ë¥¸ AWS Credential ê°€ í¬í•¨ëœ Private S3 Bucketì„ ë°œê²¬í•˜ì˜€ìŠµë‹ˆë‹¤.
6. Full Privilegeìœ¼ë¡œ Shepeardì¸ì²™ ê³µê²©ìžëŠ” ì›ëž˜ì˜ Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì‹œë‚˜ë¦¬ì˜¤ê°€ ì™„ë£Œë©ë‹ˆë‹¤

```jsx
IAM : Solus (Read Only Key Access)

Lambda function list -> Secret key

Wrex <-
```

## Exploit ì‹œë‚˜ë¦¬ì˜¤

### Solus key ì •ë³´ë¥¼ ì½ê¸°ì „ìš©ì„ ì ‘ê·¼

![](./1.png)

- í•´ë‹¹ í´ë¼ìš°ë“œ í™˜ê²½ì„ ë¶„ì„í•˜ë©´ì„œ `start.txt` ë¬¸ì„œë¡œ AWS Credential ì •ë³´ë¥¼ ì½ê¸° ì „ìš©ìœ¼ë¡œ í•´ë‹¹ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- AWS Credential ì„ ì‚¬ìš©í•˜ì—¬ ì–´ë–¤ AWS ìž‘ì—…ì„ í•  ìˆ˜ ìžˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ IAM ë¦¬ìŠ¤íŠ¸ë¥¼ ì—´ê±°í•˜ì—¬ ì •ë³´ë¥¼ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.

![](./2.png)

- í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ë¥¼ í†µí•´ì„œ Lambda ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ìžˆëŠ” ë²¡í„°ê°€ ì¡´ìž¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì´ì— ê´€í•´ì„œ ì¢€ë” ë¶„ì„ì„ í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤.

### Lambda í™˜ê²½ ë³€ìˆ˜ ë°ì´í„° í™•ì¸

![](./3.png)

- Pacuë¥¼ í†µí•´ì„œ lambda service ì—ì„œ `cg-lambda-id` í˜¸ì¶œí•˜ëŠ” ê°’ì´ ìžˆëŠ” ì§€ í™•ì¸í•œ ê²°ê³¼ ENV ê°’ìœ¼ë¡œ EC2_ACCESS_KEY_ID, SECRET_KEY_ID ê°€ ìžˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆì—ˆìŠµë‹ˆë‹¤.

```jsx
[+] Secret (ENV): EC2_ACCESS_KEY_ID= AKIA2MALBVI5TDLVHMEE
[+] Secret (ENV): EC2_SECRET_KEY_ID= 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
```

- ëŒ€ìƒ ëžŒë‹¤ í•¨ìˆ˜ëŠ” AWS ê³„ì •ì— ì¡´ìž¬í•˜ê³  lambda í•¨ìˆ˜ì˜ í™˜ê²½ë³€ìˆ˜ì— ì¼ë¶€ í•˜ë“œ ì½”ë”©ì´ ë˜ì—ˆì´ê¸° ë–„ë¬¸ì— ì´ëŠ” AWS Security Credentialì´ ìžˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

![](./4.png)

- ì‚¬ìš©ìž Solusì—ê²Œ `lambda:InvokeFunction` ê¶Œí•œ ì´ ì—†ê¸° ë•Œë¬¸ì— ì§ì ‘ Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë ¤ëŠ” ì‹œë„ê°€ ë™ìž‘í•˜ì§€ë¥¼ ì•ŠìŠµë‹ˆë‹¤.

![](./5.png)

### Lambda ê¸°ëŠ¥ ë‚˜ì—´ ë° ë¶„ì„

- lambda í™˜ê²½ ë³€ìˆ˜ì—ì„œ ìœ ì¶œëœ AWS Credential ì„ PACU `run aws__enum_account` ì‚¬ìš©í•´ì„œ ì¶”ê°€ë¡œ ë‚˜ì—´í•˜ì—¬ ì–´ë–¤ Credential ì´ ìžˆëŠ”ì§€ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.
- í•´ë‹¹ Credentialì„ í™•ì¸í•´ë³´ë©´ IAM ì‚¬ìš©ìžëŠ” wrexë¼ëŠ” ê²ƒì„ í™•ì¸í• ìˆ˜ ìžˆìŠµë‹ˆë‹¤.
- í•´ë‹¹ Wrexì˜ ì •ë³´ë¥¼ í† ëŒ€ë¡œ IAMì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìžˆëŠ” ì„œë¹„ìŠ¤ë¥¼ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.

![](./6.png)

- ìƒê°ë³´ë‹¤ ë§Žì€ ì„œë¹„ìŠ¤ì— ëŒ€í•´ ê¶Œí•œì„ ê°–ê³  ìžˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ì‹¤í–‰ì¤‘ì¸ EC2 ì¸ìŠ¤í„´ìŠ¤ê°€ ìžˆëŠ”ì§€ë¥¼ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

![](./7.png)

- ì „ì²´ ì§€ì—­ì„ ëŒ€ìƒìœ¼ë¡œ ec2ì—ì„œ ì‚¬ìš©ë˜ê³  ìžˆëŠ” ì „ì²´ì ì¸ ì •ë³´ë¥¼ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤. í•„ìš”í•œ ì •ë³´ë“¤ì„ ì¶”ë ¤ë‚´ê¸°ìœ„í•´ ì„¸ì„¸í•œ ì •ë³´ë“¤ì€ aws query ë¬¸ì„ í†µí•´ ì†ìˆ˜ ê²€ì‚¬ë¥¼ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

![](./8.png)

- ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒíƒœì™€ ë™ìž‘ì¤‘ì¸ ì„œë¹„ìŠ¤ë¥´ í™•ì¸í•˜ì˜€ì§€ë§Œ ê¸°ì¡´ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥´ ì œì™¸í•˜ê³ ëŠ” ì •í™•í•œ ì„œë¹„ìŠ¤ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.

### EC2 ë‚´ì—ì„œ ë™ìž‘ì¤‘ì¸ ì›¹ ì„œë¹„ìŠ¤ íŒŒì•… ë° ë¶„ì„

- ì¢€ë” ì •í™•í•œ ì„œë¹„ìŠ¤ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•´ì„œ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹œìž‘í•˜ê³  ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ê°€ ìžˆëŠ”ì§€ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

![](./9.png)

- EC2 ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²°ëœ ë³´ì•ˆ ê·¸ë£¹ì€ ì›¹ ì„œë¹„ìŠ¤ê°€ ì‹¤í–‰ì¤‘ì¸ ìƒíƒœë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

![](./10.png)

- íŠ¹ì • ì„œë²„ì˜ ì—°ê²°í•˜ê¸° ìœ„í•´ ê³µìš© IP ì£¼ì†Œë¥¼ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.

![](./11.png)

- 80 portì—ì„œ ì‹¤í–‰ë˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìžˆëŠ” ê²ƒì„ ì¶”ì •í•  ìˆ˜ ê°€ ìžˆê³  ì´ì— ë”°ë¼ Node js ì—ëŸ¬ë©”ì‹œì§€ë¥¼ í™•ì¸í•œ ê²°ê³¼ `URL` ì´ë¼ëŠ” íŒŒë¼ë¯¸í„° ê°’ì— ë¬¸ìžì—´ì´ ì•„ë‹Œ NULL ê°’ì´ ë“¤ì–´ê°€ ìžˆì–´ ì—ëŸ¬ê°€ ë‚œê²ƒì„ í™•ì¸í•  ìˆ˜ìžˆìœ¼ë©° ì´ì— ë”°ë¼ `URL` íŒŒë¼ë¯¸í„°ì— íŠ¹ì • ë¬¸ìžì—´ íƒ€ìž…ì„ ìž…ë ¥í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

![](./12.png)

![](./13.png)

### SSRF ì·¨ì•½ì  ë¶„ì„ë° IMDS ê¸°ëŠ¥ì„ ì´ìš©í•œ ì •ë³´ íƒˆì·¨

- í•´ë‹¹ ì›¹ ì„œë²„ê°€ SSRF ì·¨ì•½ì ì´ ì¡´ìž¬í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•˜ê¸° ìœ„í•´ì„œ `link address` ë¥¼ ìž…ë ¥ í•¨ìœ¼ë¡œì¨ ì¶œë ¥ë˜ëŠ” ê²°ê³¼ë¥¼ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.

![](./14.png)

- í™•ì¸í•œ ê²°ê³¼ ì¶œë ¥ë˜ëŠ” ê°’ì—ëŠ” í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ì˜ í™˜ê²½ ì •ë³´ë“¤ì„ í™•ì¸í•  ìˆ˜ ìžˆì—ˆìŠµë‹ˆë‹¤.
- ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ SSRFì— ì·¨ì•½í•˜ê³  EC2 ì¸ìŠ¤í„´ìŠ¤ì— ìžˆê¸° ë•Œë¬¸ì— IMDSv1ì„ í™œìš©í•˜ì—¬ IAM Rule credentialsì„ íƒˆì·¨í•  ê²ƒìž…ë‹ˆë‹¤.

![](./15.png)

```jsx
cg-ec2-role-ec2_ssrf_cgid84kpkl3ssy
```

- í•´ë‹¹ Security-credential ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìžˆê³ 

![](./16.png)

```jsx
{ "Code" : "Success",
"LastUpdated" : "2021-08-13T12:26:30Z",
"Type" : "AWS-HMAC",
"AccessKeyId" : "ASIA2MALBVI5X6AMJP4Q",
"SecretAccessKey" : "lRltyfpeVd7kZgRU3YBmC1vjQyYjIBElPJDUmTBw",
"Token" : "IQoJb3JpZ2luX2VjEO3//////////wEaCXVzLWVhc3QtMSJHMEUCIApGWPrGUAqRVXl3tfnuJVosN7uNFtaQhVFbHWNZYUiJAiEA1epIk6RW7GrdHDNp2f7839ZTMExA/nw2jhjQJ82m+G4q+gMIFhABGgw3MTI5ODc3NDg5MjMiDE9fkBzfZ5IRS2b2cSrXAz88k6FsGWeuALIfbncPNdvLIRkcLia458kV/0xhmR9RBZUoCXR75HD/DUEepprPNbY8przbHcYoOZ0ezFNBgju4qrYDlx4m+dM6xXdPg7V89S2qceNKs45SCn6xP7jVUQB1UF4z11wMLMcI3mp/fiDfEq5Rnu2BvXVgE+RrgiCG7zVRbAcUMq1Y5koHutG6AsNDxLjQRQNhwpt7+SP9D10PWQbIDAPS/5X88LMNqKcco5XpAsiLG8QtylXVo07vwocPYRfeON04wsOaX3eNbH0ktmoOMnzb7ZlHvV0DRL/hQkgYzPhxJKxxR48Zg3VZMKYhfdsQtfhNxMJNMWq88KSBLpVs/WHu+HiNst1fSYLn8V3Hd6STfW/d5ld8erx7ZWzDu1RLZyqlFndG8TNmDcYdrFXBgSwgHZlRFo1ke5UWcMAXVTh/gyNkjU8WMpsvyNnCp3c8bfTdlBcbzUfcYfiYFs04XLySKWL6muvXBw16DRv9vQ3MJsKFR5PTvah/X54gaC6uD51SgXdb2KwyzpHf2jC8iyZ2kUCQI2zXs1/PXkXU9fhJT2i+eYZnajvZLeyHArf5u+wMukRL4XT3WK8wzKV15SXq8sv7xIOrm3hOnN3DElCa+TCHytmIBjqlAfMKdg0Q7d5HtuIik+EOpUy/8x2dAa+xGgs/DEP+lTd869idZDpFvHzxdZXN/EILGvh/uRXSMdrbA6HjPh3T6yElvZuu7Iv/clDDmpRapJicoW6ldRzIY2mrs4fH33ZNgiLXL1+lXxIbDV5R+RaFsEia8Sbu9I1a1H+3k/GMdyQ+P48pr0dYlRjVRZWK1rVNgC3/Y2DVM2tVHaKAQvCvS5jM8jdhIA==",
"Expiration" : "2021-08-13T18:44:43Z" }
```

- íƒˆì·¨í•œ IAM Rule Credential ì€ ë‹¤ë¥¸ IAM Credential ì²˜ëŸ¼ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ë¥¼ ì´ìš©í•˜ì—¬ Rule Credentialì„ ì‚¬ìš©í•˜ì—¬ ìˆ˜í–‰í•  ìˆ˜ ìžˆëŠ” ìž‘ì—…ì„ ì—´ê±°í•˜ê¸° ìœ„í•´ AWS CLIë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ í”„ë¡œí•„ì„ ìƒì„±í•˜ì§€ë§Œ IAM Rule Credential ì€ Life-cycleì´ ì§§ì€ Session_tokenì´ ìžˆìŠµë‹ˆë‹¤.
- ì´ë¥¼ í†µí•´ ìƒˆë¡­ê²Œ ì¶”ê°€ë¥¼ í•˜ì˜€ìŠµë‹ˆë‹¤.

![](./17.png)

![](./18.png)

- íƒˆì·¨í•œ IAM AWS Credential ì •ë³´ë¥¼ í†µí•´ì„œ ì‚¬ìš©ê°€ëŠ¥í•œ ë‚˜ì—´ì„ í•˜ì—¬ `s3.list_buckets` ìž‘ì—…ì´ ìž‘ë™ ì¤‘ì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

### S3 Bucketë‚´ì—ì„œ ë°ì´í„° ë° Credential ë¶„ì„, ì¶”ì¶œ ë° í•¨ìˆ˜ í˜¸ì¶œ

- S3ê°€ ìž‘ë™ì¤‘ì´ë‹ˆ í•´ë‹¹ ë°ì´í„°ë¥¼ pacu ë„êµ¬ë¥¼ í†µí•´ ë‹¤ìš´ë¡œë“œë¥¼ ë°›ì•„ë´¤ìŠµë‹ˆë‹¤.

![](./19.png)

![](./20.png)

- ë‹¤ìš´ ë°›ì€ ë°ì´í„°ë¥¼ í†µí•´ AWS Credential ê°’ì´ ë“¤ì–´ ìžˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë˜ ë˜‘ê°™ì´ í•´ë‹¹ ë°ì´í„°ë¥¼ í†µí•´ ìƒˆë¡œìš´ í”„ë¡œí•„ì„ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

![](./21.png)

- ìƒì„±ëœ í”„ë¡œíŒŒì¼ì— ê¸°ë°˜í•˜ì—¬ ì–´ë–¤ ìœ ì €ì—ê²Œ ì†í•˜ëŠ”ì§€ë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•´ `get-caller-identity` cmdë¥¼ ì´ìš©í•˜ì—¬ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.

![](./22.png)

- í™•ì¸í•œ ê²°ê³¼ `shepard` ìœ ì €ì—ê²Œ ì°¸ì¡°ê°€ ë˜ê³  ìžˆê³  ì´ì— ëŒ€í•œ ì •ì±…ì„ ì‹ë³„í•´ë´¤ìŠµë‹ˆë‹¤.

![](./23.png)

- IAM ì‚¬ìš©ìž `shepard-ec2_ssrf_cgid84kpkl3ssy` ì— ì—°ê²°ëœ ì •ì±…ì— ëŒ€í•œ ê¶Œí•œì„ í™•ì¸í•˜ì—¬ ë‹¤ìŒ ê³µê²© ë°©í–¥ì„ ìž¡ì•˜ìŠµë‹ˆë‹¤.

![](./24.png)

- ì˜ˆìƒë°ë¡œ IAM ì‚¬ìš©ìž "shepard"ë¡œì„œ AWS ê³„ì •ì— ëŒ€í•œ ê´€ë¦¬ìž ì ‘ê·¼ ê¶Œí•œì„ ê°–ê³  ìžˆì—ˆìŠµë‹ˆë‹¤. í•´ë‹¹ AWS Credentialì„ ì‚¬ìš©í•˜ì—¬ `cg-lambda-ec2_ssrf_cgid84kpkl3ssy` Lambda í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê² ìŠµë‹ˆë‹¤.

![](./25.png)

```toc
```