{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/arm-5/",
    "result": {"data":{"cur":{"id":"8c9e93e4-7a68-57de-9c83-92d41fc6d51a","html":"<h1 id=\"레지스터에-주소-로드\" style=\"position:relative;\"><a href=\"#%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0%EC%97%90-%EC%A3%BC%EC%86%8C-%EB%A1%9C%EB%93%9C\" aria-label=\"레지스터에 주소 로드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>레지스터에 주소 로드</h1>\n<ul>\n<li>레지스터에 주소를 로드해야 하는 경우가 종종 있다.</li>\n<li>변수의 주소 값, 문자열 상수 또는 점프 테이블의 시작 위치…</li>\n<li>주소는 일반적으로 현재 pc 또는 다른 레지스터의 오프셋으로 표현된다.</li>\n<li>레지스터를 직접로드하려면 ADR, ADRL 을 사용한 직접로드</li>\n<li>리터러 풀에서 주소 로드 (LDR, Rd, = label)</li>\n</ul>\n<h2 id=\"adr-adrl-직접-로딩\" style=\"position:relative;\"><a href=\"#adr-adrl-%EC%A7%81%EC%A0%91-%EB%A1%9C%EB%94%A9\" aria-label=\"adr adrl 직접 로딩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ADR, ADRL 직접 로딩</h2>\n<ul>\n<li>ADR, ADRL 의사 명령어를 사용하면 데이터 로드를 수행하지 않고 특정 범위 내에서 주소를 생성할 수 있다.\n<ul>\n<li>선택적 오프셋이 있는 레이블 인 프로그램 기준 표현식 이며 여기서 레이블의 주소는 현재 PC에 상대적이다.</li>\n<li>선택적 오프셋이 있는 레이블 인 레지스터 기준 식 이며 여기서 레이블의 주소는 지정된 범용 레지스터에 있는 주소에 상대적이다.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"어셈블러는-다음을-생성하여-code-classlanguage-textadr-rn-labelcode-의사-명령어를-변환한다\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EC%85%88%EB%B8%94%EB%9F%AC%EB%8A%94-%EB%8B%A4%EC%9D%8C%EC%9D%84-%EC%83%9D%EC%84%B1%ED%95%98%EC%97%AC-code-classlanguage-textadr-rn-labelcode-%EC%9D%98%EC%82%AC-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A5%BC-%EB%B3%80%ED%99%98%ED%95%9C%EB%8B%A4\" aria-label=\"어셈블러는 다음을 생성하여 code classlanguage textadr rn labelcode 의사 명령어를 변환한다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어셈블러는 다음을 생성하여 <code class=\"language-text\">ADR rn, label</code> 의사 명령어를 변환한다.</h3>\n<ul>\n<li>주소가 범위내에 있는 경우 주소를로드하는 단일 ADD, SUB 명령어</li>\n<li>단일 명령어에서 주소에 도달할 수 없는 경우 오류 메시지</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token operator\">-</span> 오프셋 범위는 word 로 정렬되지 않은 주소에 대한 오프셋의 경우 <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token number\">255</span> 바이트이고\n<span class=\"token operator\">-</span> word로 정렬된 주소에 대한 오프셋의 경우 <span class=\"token operator\">+</span><span class=\"token operator\">-</span><span class=\"token number\">1020</span> 바이트 <span class=\"token punctuation\">(</span><span class=\"token number\">255</span> word<span class=\"token punctuation\">)</span> 이다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span> Thumb 의 경우 주소는 word로 정렬되고 오프셋은 양수여야 한다<span class=\"token punctuation\">.</span></code></pre></div>\n<h3 id=\"어셈블러는-다음을-생성하여-code-classlanguage-textadrl-rn-labelcode-의사-명령어를-반환한다\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EC%85%88%EB%B8%94%EB%9F%AC%EB%8A%94-%EB%8B%A4%EC%9D%8C%EC%9D%84-%EC%83%9D%EC%84%B1%ED%95%98%EC%97%AC-code-classlanguage-textadrl-rn-labelcode-%EC%9D%98%EC%82%AC-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A5%BC-%EB%B0%98%ED%99%98%ED%95%9C%EB%8B%A4\" aria-label=\"어셈블러는 다음을 생성하여 code classlanguage textadrl rn labelcode 의사 명령어를 반환한다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어셈블러는 다음을 생성하여 <code class=\"language-text\">ADRL rn, label</code> 의사 명령어를 반환한다.</h3>\n<ul>\n<li>주소가 범위 내에 있는 경우 주소를 로드하는 두 개의 데이터 처러 명령어</li>\n<li>두 명령어로 주소를 구성할 수 없는 경우 오류 메시지</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token operator\">-</span> ADRL 의사 명령어의 범위는 word로 정렬되지 않은 주소의 경우 ± <span class=\"token number\">64</span>KB이고\n<span class=\"token operator\">-</span> word로 정렬 된 주소의 경우 ± <span class=\"token number\">256</span>KB이다<span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>Thumb 용 ADRL 의사 명령어는 없습니다<span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token operator\">-</span> 만약 성공한 경우 ADLR은 두 개의 명령어로 어셈블된다<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">-</span> 어셈블러는 주소를 단일 명령어로 로드 할 수 있는 경우에도 두 개의 명령어를 생성한다<span class=\"token punctuation\">.</span></code></pre></div>\n<h3 id=\"adr-adrl과-함께-사용되는-레이블은-동일한-코드-섹션내에-있어야-한다\" style=\"position:relative;\"><a href=\"#adr-adrl%EA%B3%BC-%ED%95%A8%EA%BB%98-%EC%82%AC%EC%9A%A9%EB%90%98%EB%8A%94-%EB%A0%88%EC%9D%B4%EB%B8%94%EC%9D%80-%EB%8F%99%EC%9D%BC%ED%95%9C-%EC%BD%94%EB%93%9C-%EC%84%B9%EC%85%98%EB%82%B4%EC%97%90-%EC%9E%88%EC%96%B4%EC%95%BC-%ED%95%9C%EB%8B%A4\" aria-label=\"adr adrl과 함께 사용되는 레이블은 동일한 코드 섹션내에 있어야 한다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ADR, ADRL과 함께 사용되는 레이블은 동일한 코드 섹션내에 있어야 한다.</h3>\n<ul>\n<li>어셈블러 오류는 동일한 섹션에서 범위를 벗어난 레이블을 참조한다.</li>\n<li>링커 오류는 다른 코드 섹션에서 범위를 벗어난 레이블을 참조한다.</li>\n<li>Thumb 상태에서 ADR은 워드로 정렬 된 주소만 생성할 수있다.</li>\n<li>Thumb 코드에서는 ADRL을 사용할 수 없다. ARM 코드에서만 사용하라</li>\n</ul>\n<h3 id=\"연습1\" style=\"position:relative;\"><a href=\"#%EC%97%B0%EC%8A%B51\" aria-label=\"연습1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>연습1</h3>\n<ul>\n<li>ADR, ADRL 의사 명령어를 어셈블 할 때 어셈블러에서 생성 한 코드 유형이다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">AREA    adrlabel<span class=\"token punctuation\">,</span> CODE<span class=\"token punctuation\">,</span>READONLY\n            ENTRY                          <span class=\"token punctuation\">;</span> 첫 ENTRY\nStart\n            BL      func                   <span class=\"token punctuation\">;</span> 브랜치 서브 루틴 <span class=\"token punctuation\">(</span>func<span class=\"token punctuation\">)</span>\nstop        MOV     r0<span class=\"token punctuation\">,</span> #<span class=\"token number\">0x18</span>              <span class=\"token punctuation\">;</span> angel_SWIreason_ReportException\n            LDR     r1<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span><span class=\"token number\">0x20026</span>           <span class=\"token punctuation\">;</span> ADP_Stopped_ApplicationExit\n            SWI     <span class=\"token number\">0x123456</span>               <span class=\"token punctuation\">;</span> ARM semihosting SWI\n            LTORG                          <span class=\"token punctuation\">;</span> 리터럴 생성\nfunc        ADR     r0<span class=\"token punctuation\">,</span> Start              <span class=\"token punctuation\">;</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> SUB r0<span class=\"token punctuation\">,</span> PC<span class=\"token punctuation\">,</span> #offset to Start\n            ADR     r1<span class=\"token punctuation\">,</span> DataArea           <span class=\"token punctuation\">;</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> ADD r1<span class=\"token punctuation\">,</span> PC<span class=\"token punctuation\">,</span> #offset to DataArea\n            <span class=\"token punctuation\">;</span> ADR   r2<span class=\"token punctuation\">,</span> DataArea<span class=\"token operator\">+</span><span class=\"token number\">4300</span>      <span class=\"token punctuation\">;</span> 오프셋 때문에 실패함<span class=\"token punctuation\">,</span> ADD의 operand2로 표현할 수 없음\n            ADRL    r2<span class=\"token punctuation\">,</span> DataArea<span class=\"token operator\">+</span><span class=\"token number\">4300</span>      <span class=\"token punctuation\">;</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> ADD r2<span class=\"token punctuation\">,</span> PC<span class=\"token punctuation\">,</span> #offset1\n                                           <span class=\"token punctuation\">;</span>    ADD r2<span class=\"token punctuation\">,</span> r2<span class=\"token punctuation\">,</span> #offset2\n            MOV     pc<span class=\"token punctuation\">,</span> lr                 <span class=\"token punctuation\">;</span> Return\nDataArea    SPACE   <span class=\"token number\">8000</span>                   <span class=\"token punctuation\">;</span> Starting at the current location<span class=\"token punctuation\">,</span>\n                                           <span class=\"token punctuation\">;</span> clears a <span class=\"token number\">8000</span> byte area of memory\n                                           <span class=\"token punctuation\">;</span> to zero\n            END</code></pre></div>\n<h2 id=\"adr로-점프-테이블-구현\" style=\"position:relative;\"><a href=\"#adr%EB%A1%9C-%EC%A0%90%ED%94%84-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B5%AC%ED%98%84\" aria-label=\"adr로 점프 테이블 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ADR로 점프 테이블 구현</h2>\n<ul>\n<li>다음 연습2는 점프 테이블을 구현하는 ARM 코드를 보여준다.</li>\n<li>ADR의사 명령어는 점프 테이블의 주소를 로드한다.</li>\n<li>해당 연습2에서 함수 arithfunc는 세 개의 인수를 사용하여 r0에 결과를 반환한다.</li>\n<li>첫 번째 인수는 두 번째 및 세 번째 인수에 대해 수행되는 작업을 결정한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">arg1<span class=\"token operator\">=</span><span class=\"token number\">0</span>\n\tResult <span class=\"token operator\">=</span> arg2 <span class=\"token operator\">+</span> arg3\narg1<span class=\"token operator\">=</span><span class=\"token number\">1</span>\n\tResult <span class=\"token operator\">=</span> arg2 <span class=\"token operator\">-</span> arg3</code></pre></div>\n<ul>\n<li>점프 테이블은 다음 명령어와 어셈블러 지시문으로 구현된다.</li>\n</ul>\n<h3 id=\"equ\" style=\"position:relative;\"><a href=\"#equ\" aria-label=\"equ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EQU</h3>\n<ul>\n<li>어셈블러 지시문</li>\n<li>기호에 값을 부여하는 데 사용한다.</li>\n<li>해당 연습 2에서는 값 2를 num에 할당한다.</li>\n<li>num이 코드의 다른 곳에서 사용되면 값 2가 대체된다.</li>\n<li>이런 방식으로 EQU를 사용하는 것은 C에서 상수를 정의하기 위해 <code class=\"language-text\">#define</code>과 유사하다.</li>\n</ul>\n<h3 id=\"dcd\" style=\"position:relative;\"><a href=\"#dcd\" aria-label=\"dcd permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DCD</h3>\n<ul>\n<li>하나 이상의 STORE words를 선언한다</li>\n<li>해당 연습2에서 각 DCD는 점프 테이블의 특정 문맥을 처리하는 루튼의 주소를 저장한다.</li>\n</ul>\n<h3 id=\"ldr\" style=\"position:relative;\"><a href=\"#ldr\" aria-label=\"ldr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LDR</h3>\n<ul>\n<li><code class=\"language-text\">LDR pc, [r3, r0, LSL #2]</code> 명령어는 점프 테이블의 필수 절 주소를 pc로 로드 한다.</li>\n<li>word offset을 제공하기 위해 r0의 line 번호에 4를 곱한다.</li>\n<li>점프 테이블이 주소에 결과를 추가한다.</li>\n<li>결합 된 주소의 내용을 프로그램 카운터에 로드한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">AREA    Jump<span class=\"token punctuation\">,</span> CODE<span class=\"token punctuation\">,</span> READONLY     \n        CODE32                           \nnum     EQU     <span class=\"token number\">2</span>                        <span class=\"token punctuation\">;</span> jump table의 항목수 \n        ENTRY                            \nstart                                    \n        MOV     r0<span class=\"token punctuation\">,</span> #<span class=\"token number\">0</span>                   \n        MOV     r1<span class=\"token punctuation\">,</span> #<span class=\"token number\">3</span>\n        MOV     r2<span class=\"token punctuation\">,</span> #<span class=\"token number\">2</span>\n        BL      arithfunc                \nstop    MOV     r0<span class=\"token punctuation\">,</span> #<span class=\"token number\">0x18</span>                <span class=\"token punctuation\">;</span> angel_SWIreason_ReportException\n        LDR     r1<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span><span class=\"token number\">0x20026</span>             <span class=\"token punctuation\">;</span> ADP_Stopped_ApplicationExit\n        SWI     <span class=\"token number\">0x123456</span>                 <span class=\"token punctuation\">;</span> ARM semihosting SWI\narithfunc                                <span class=\"token punctuation\">;</span> Label the function\n        CMP     r0<span class=\"token punctuation\">,</span> #num                 <span class=\"token punctuation\">;</span> function code를 <span class=\"token keyword\">unsigned</span> integer 취급\n        MOVHS   pc<span class=\"token punctuation\">,</span> lr                   <span class=\"token punctuation\">;</span> If code is <span class=\"token operator\">>=</span> num then simply <span class=\"token keyword\">return</span>\n        ADR     r3<span class=\"token punctuation\">,</span> JumpTable            <span class=\"token punctuation\">;</span> JumpTable 을 r3 레지스트로 로드\n        LDR     pc<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>r3<span class=\"token punctuation\">,</span>r0<span class=\"token punctuation\">,</span>LSL#<span class=\"token number\">2</span><span class=\"token punctuation\">]</span>        <span class=\"token punctuation\">;</span> 적절할 루틴으로 jump\nJumpTable\n        DCD     DoAdd\n        DCD     DoSub\nDoAdd   ADD     r0<span class=\"token punctuation\">,</span> r1<span class=\"token punctuation\">,</span> r2               <span class=\"token punctuation\">;</span> Operation <span class=\"token number\">0</span>\n        MOV     pc<span class=\"token punctuation\">,</span> lr                   <span class=\"token punctuation\">;</span> Return\nDoSub   SUB     r0<span class=\"token punctuation\">,</span> r1<span class=\"token punctuation\">,</span> r2               <span class=\"token punctuation\">;</span> Operation <span class=\"token number\">1</span>\n        MOV     pc<span class=\"token punctuation\">,</span> lr                   <span class=\"token punctuation\">;</span> Return\n        END                              <span class=\"token punctuation\">;</span> Mark the end of <span class=\"token keyword\">this</span> file</code></pre></div>\n<h3 id=\"thumb-로-변환하기\" style=\"position:relative;\"><a href=\"#thumb-%EB%A1%9C-%EB%B3%80%ED%99%98%ED%95%98%EA%B8%B0\" aria-label=\"thumb 로 변환하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thumb 로 변환하기</h3>\n<ul>\n<li>Thumb 코드로 변환 된 점프 테이블 구현</li>\n<li>Thumb 버전은 ARM 코드와 동일하며 차이점은 Thumb version</li>\n<li>Thumb 상태에서는 다음을 수행 할 수 없다.\n<ul>\n<li>LDR, STR 명령어의 기본 레지스터 증가</li>\n<li>LDR 명령어를 사용하여 값을  PC에 로드</li>\n<li>레지스터에 있는 값이 인라인 시프트를 수행</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">AREA    Jump<span class=\"token punctuation\">,</span> CODE<span class=\"token punctuation\">,</span> READONLY\n        CODE16                          \nnum     EQU     <span class=\"token number\">2</span>\n        ENTRY\nstart\n        MOV     r0<span class=\"token punctuation\">,</span> #<span class=\"token number\">0</span>\n        MOV     r1<span class=\"token punctuation\">,</span> #<span class=\"token number\">3</span>\n        MOV     r2<span class=\"token punctuation\">,</span> #<span class=\"token number\">2</span>\n        BL      arithfunc\nstop    MOV     r0<span class=\"token punctuation\">,</span> #<span class=\"token number\">0x18</span>\n        LDR     r1<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span><span class=\"token number\">0x20026</span>\n        SWI     <span class=\"token number\">0xAB</span>                     <span class=\"token punctuation\">;</span> Thumb semihosting SWI\narithfunc\n        CMP     r0<span class=\"token punctuation\">,</span> #num\n        BHS     exit                     <span class=\"token punctuation\">;</span> MOV pc<span class=\"token punctuation\">,</span> lr cannot be conditional\n        ADR     r3<span class=\"token punctuation\">,</span> JumpTable\n        LSL     r0<span class=\"token punctuation\">,</span> r0<span class=\"token punctuation\">,</span> #<span class=\"token number\">2</span>               <span class=\"token punctuation\">;</span> <span class=\"token number\">3</span> instructions needed to replace\n        LDR     r0<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>r3<span class=\"token punctuation\">,</span>r0<span class=\"token punctuation\">]</span>              <span class=\"token punctuation\">;</span> LDR pc<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>r3<span class=\"token punctuation\">,</span>r0<span class=\"token punctuation\">,</span>LSL#<span class=\"token number\">2</span><span class=\"token punctuation\">]</span>\n        MOV     pc<span class=\"token punctuation\">,</span> r0\n        ALIGN                            <span class=\"token punctuation\">;</span> Ensure that the table is aligned on a\n                                         <span class=\"token punctuation\">;</span> <span class=\"token number\">4</span><span class=\"token operator\">-</span>byte boundary\nJumpTable\n        DCD     DoAdd\n        DCD     DoSub\nDoAdd   ADD     r0<span class=\"token punctuation\">,</span> r1<span class=\"token punctuation\">,</span> r2\nexit    MOV     pc<span class=\"token punctuation\">,</span> lr\nDoSub   SUB     r0<span class=\"token punctuation\">,</span> r1<span class=\"token punctuation\">,</span> r2\n        MOV     pc<span class=\"token punctuation\">,</span> lr\n        END</code></pre></div>\n<h2 id=\"ldr-rd-label-주소-로딩\" style=\"position:relative;\"><a href=\"#ldr-rd-label-%EC%A3%BC%EC%86%8C-%EB%A1%9C%EB%94%A9\" aria-label=\"ldr rd label 주소 로딩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LDR Rd, =label 주소 로딩</h2>\n<ul>\n<li>\n<p><code class=\"language-text\">LDR Rd, =</code> pseudo-instruction 는 32bit 상수를 레지스터로 로드 할 수 있다.</p>\n</li>\n<li>\n<p>또한 레이블 및 오프셋이 있는 레이블과 같은 프로그램 기준 표현식을 사용한다.</p>\n</li>\n<li>\n<p>레이블 주소를 리터럴 풀(상수 값을 유지하기 위해 코드에 포함된 메모리의 일부)에 배치한다.</p>\n</li>\n<li>\n<p>리터럴 풀에서 주소를 읽는 프로그램 기준 LDR 명령어를 생성한다.</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">LDR      rn <span class=\"token punctuation\">[</span>pc<span class=\"token punctuation\">,</span> #offset to literal pool<span class=\"token punctuation\">]</span> \t<span class=\"token punctuation\">;</span> load <span class=\"token keyword\">register</span> n with one word\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"token punctuation\">;</span> from the address <span class=\"token punctuation\">[</span>pc <span class=\"token operator\">+</span> offset<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>\n<p>ADR, ADRL 의사 명령어와 달리 현재 섹션 외부에 있는 레이블과 함께 LDR을 사용할 수 있다.</p>\n</li>\n<li>\n<p>레이블이 현재 섹션 외부에 있는 경우 어셈블러는 소스 파일이 어셈블 될 때 개체 코드에 재배치 지시문을 배치한다.</p>\n</li>\n<li>\n<p>재배치 지시문은 링크 타임에 주소를 확인하도록 링커에 지시한다.</p>\n</li>\n<li>\n<p>링커가 LDR 및 리터럴 풀을 포함하는 섹션을 배치할 때마다 주소는 유효하다.</p>\n</li>\n<li>\n<p>연습 3</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">AREA    LDRlabel<span class=\"token punctuation\">,</span> CODE<span class=\"token punctuation\">,</span>READONLY\n        ENTRY                              \nstart\n        BL      func1                      \n        BL      func2                      \nstop    MOV     r0<span class=\"token punctuation\">,</span> #<span class=\"token number\">0x18</span>                  <span class=\"token punctuation\">;</span> angel_SWIreason_ReportException\n        LDR     r1<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span><span class=\"token number\">0x20026</span>               <span class=\"token punctuation\">;</span> ADP_Stopped_ApplicationExit\n        SWI     <span class=\"token number\">0x123456</span>                   <span class=\"token punctuation\">;</span> ARM semihosting SWI\nfunc1\n        LDR     r0<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span>start                 <span class=\"token punctuation\">;</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> LDR R0<span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span>PC<span class=\"token punctuation\">,</span> 리터럴 풀<span class=\"token number\">1</span> 오프셋<span class=\"token punctuation\">]</span>\n        LDR     r1<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span>Darea <span class=\"token operator\">+</span> <span class=\"token number\">12</span>            <span class=\"token punctuation\">;</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> LDR R1<span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span>PC<span class=\"token punctuation\">,</span> 리터럴 풀<span class=\"token number\">1</span> 오프셋<span class=\"token punctuation\">]</span>\n        LDR     r2<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span>Darea <span class=\"token operator\">+</span> <span class=\"token number\">6000</span>          <span class=\"token punctuation\">;</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> LDR R2<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>PC<span class=\"token punctuation\">,</span> 리터럴 풀<span class=\"token number\">1</span> 오프셋<span class=\"token punctuation\">]</span>\n        MOV     pc<span class=\"token punctuation\">,</span>lr                      <span class=\"token punctuation\">;</span> Return\n        LTORG                              <span class=\"token punctuation\">;</span> Literal Pool <span class=\"token number\">1</span>\nfunc2\n        LDR     r3<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span>Darea <span class=\"token operator\">+</span> <span class=\"token number\">6000</span>          <span class=\"token punctuation\">;</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> LDR r3<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>PC<span class=\"token punctuation\">,</span> 리터럴 풀<span class=\"token number\">1</span> 오프셋<span class=\"token punctuation\">]</span>\n                                           <span class=\"token punctuation\">;</span> 이전 리터럴과 공유 한다<span class=\"token punctuation\">.</span>\n        <span class=\"token punctuation\">;</span> LDR   r4<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span>Darea <span class=\"token operator\">+</span> <span class=\"token number\">6004</span>          <span class=\"token punctuation\">;</span> 만약 주석이 해제된다면 에러가 발생한다<span class=\"token punctuation\">.</span>\n                                           <span class=\"token punctuation\">;</span> 리터럴 풀 <span class=\"token number\">2</span>가 범위를 벗어났기 때문\n        MOV     pc<span class=\"token punctuation\">,</span> lr                     <span class=\"token punctuation\">;</span> Return\nDarea   SPACE   <span class=\"token number\">8000</span>                       <span class=\"token punctuation\">;</span> 현재 위치에서 시작\n                                           <span class=\"token punctuation\">;</span> <span class=\"token number\">8000</span> 바이트 메모리 영역을 지운다<span class=\"token punctuation\">.</span>\n        END                                <span class=\"token punctuation\">;</span> 리터럴 풀<span class=\"token number\">2</span>가 범위를 벗어났다<span class=\"token punctuation\">.</span>\n                                           <span class=\"token punctuation\">;</span> the LDR instructions above</code></pre></div>\n<h3 id=\"ldr-rd-label-문자열-복사-연습\" style=\"position:relative;\"><a href=\"#ldr-rd-label-%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%B3%B5%EC%82%AC-%EC%97%B0%EC%8A%B5\" aria-label=\"ldr rd label 문자열 복사 연습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LDR Rd, =label 문자열 복사 연습</h3>\n<ul>\n<li>한 문자열을 다른 문자열로 덮어 쓰는 ARM 코드 루틴</li>\n<li>LDR 의사 명령어를 사용하여 데이터 섹션에서 두 문자열의 주소를 로드한다.</li>\n</ul>\n<h3 id=\"dcb\" style=\"position:relative;\"><a href=\"#dcb\" aria-label=\"dcb permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DCB</h3>\n<ul>\n<li>DCB 명령은 하나 이상의 저장소 바이트를 정의한다.</li>\n<li>정수 값 외에도 DCB는 인용된 문자열을 허용한다.</li>\n<li>문자열의 각 문자는 연속 바이트에 배치된다.</li>\n</ul>\n<h3 id=\"ldrstr\" style=\"position:relative;\"><a href=\"#ldrstr\" aria-label=\"ldrstr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LDR/STR</h3>\n<ul>\n<li>LDR 및 STR 명령어는 post-indexed 주소 지정을 사용하여 주소 레지스터를 업데이트 한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">LDRB    r2<span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span>r1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>#<span class=\"token number\">1</span></code></pre></div>\n<ul>\n<li>r1이 가리키는 주소의 내용으로 r2를 로드 한다음 r1을 1씩 증가시킨다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">AREA    strCopy<span class=\"token punctuation\">,</span> CODE<span class=\"token punctuation\">,</span> READONLY\n        ENTRY                             \nstart   LDR     r1<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span>srcstr               <span class=\"token punctuation\">;</span> 첫 번째 문자열에 대한 포인터\n        LDR     r0<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span>dststr               <span class=\"token punctuation\">;</span> 두 번째 문자열에 대한 포인터\n        BL      strCopy                   <span class=\"token punctuation\">;</span> 복사를 위해 서브 루틴 호출\nstop    MOV     r0<span class=\"token punctuation\">,</span> #<span class=\"token number\">0x18</span>                 <span class=\"token punctuation\">;</span> angel_SWIreason_ReportException\n        LDR     r1<span class=\"token punctuation\">,</span> <span class=\"token operator\">=</span><span class=\"token number\">0x20026</span>              <span class=\"token punctuation\">;</span> ADP_Stopped_ApplicationExit\n        SWI     <span class=\"token number\">0x123456</span>                  <span class=\"token punctuation\">;</span> ARM semihosting SWI\nstrCopy\n        LDRB    r2<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>r1<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>#<span class=\"token number\">1</span>               <span class=\"token punctuation\">;</span> 바이트 로드 및 주소 업데이트\n        STRB    r2<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>r0<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>#<span class=\"token number\">1</span>               <span class=\"token punctuation\">;</span> 바이트 저장 및 주소 업데이트\n        CMP     r2<span class=\"token punctuation\">,</span> #<span class=\"token number\">0</span>                    <span class=\"token punctuation\">;</span> Check <span class=\"token keyword\">for</span> zero terminator\n        BNE     strCopy                   <span class=\"token punctuation\">;</span> Keep going <span class=\"token keyword\">if</span> <span class=\"token operator\">not</span>\n        MOV     pc<span class=\"token punctuation\">,</span>lr                     <span class=\"token punctuation\">;</span> Return\n        AREA    Strings<span class=\"token punctuation\">,</span> DATA<span class=\"token punctuation\">,</span> READWRITE\nsrcstr  DCB     <span class=\"token string\">\"First string - source\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span>\ndststr  DCB     <span class=\"token string\">\"Second string - destination\"</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span>\n        END</code></pre></div>\n<h3 id=\"thumb로-변환\" style=\"position:relative;\"><a href=\"#thumb%EB%A1%9C-%EB%B3%80%ED%99%98\" aria-label=\"thumb로 변환 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thumb로 변환</h3>\n<ul>\n<li>Thumb LDR, STR 명령어에 대해서는 post-indexed 주소 지정 모드가 없다.</li>\n<li>따라서 ADD 명령어를 사용하여 LDR, STR 명령어 다음에 주소 레지스터를 증가시켜야 한다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">LDRB  r2<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>r1<span class=\"token punctuation\">]</span>        <span class=\"token punctuation\">;</span> load <span class=\"token keyword\">register</span> <span class=\"token number\">2</span>\nADD   r1<span class=\"token punctuation\">,</span> #<span class=\"token number\">1</span>          <span class=\"token punctuation\">;</span> increment the address in\n                      <span class=\"token punctuation\">;</span> <span class=\"token keyword\">register</span> <span class=\"token number\">1.</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#adr-adrl-%EC%A7%81%EC%A0%91-%EB%A1%9C%EB%94%A9\">ADR, ADRL 직접 로딩</a></p>\n<ul>\n<li><a href=\"#%EC%96%B4%EC%85%88%EB%B8%94%EB%9F%AC%EB%8A%94-%EB%8B%A4%EC%9D%8C%EC%9D%84-%EC%83%9D%EC%84%B1%ED%95%98%EC%97%AC-adr-rn-label-%EC%9D%98%EC%82%AC-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A5%BC-%EB%B3%80%ED%99%98%ED%95%9C%EB%8B%A4\">어셈블러는 다음을 생성하여 <code class=\"language-text\">ADR rn, label</code> 의사 명령어를 변환한다.</a></li>\n<li><a href=\"#%EC%96%B4%EC%85%88%EB%B8%94%EB%9F%AC%EB%8A%94-%EB%8B%A4%EC%9D%8C%EC%9D%84-%EC%83%9D%EC%84%B1%ED%95%98%EC%97%AC-adrl-rn-label-%EC%9D%98%EC%82%AC-%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A5%BC-%EB%B0%98%ED%99%98%ED%95%9C%EB%8B%A4\">어셈블러는 다음을 생성하여 <code class=\"language-text\">ADRL rn, label</code> 의사 명령어를 반환한다.</a></li>\n<li><a href=\"#adr-adrl%EA%B3%BC-%ED%95%A8%EA%BB%98-%EC%82%AC%EC%9A%A9%EB%90%98%EB%8A%94-%EB%A0%88%EC%9D%B4%EB%B8%94%EC%9D%80-%EB%8F%99%EC%9D%BC%ED%95%9C-%EC%BD%94%EB%93%9C-%EC%84%B9%EC%85%98%EB%82%B4%EC%97%90-%EC%9E%88%EC%96%B4%EC%95%BC-%ED%95%9C%EB%8B%A4\">ADR, ADRL과 함께 사용되는 레이블은 동일한 코드 섹션내에 있어야 한다.</a></li>\n<li><a href=\"#%EC%97%B0%EC%8A%B51\">연습1</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#adr%EB%A1%9C-%EC%A0%90%ED%94%84-%ED%85%8C%EC%9D%B4%EB%B8%94-%EA%B5%AC%ED%98%84\">ADR로 점프 테이블 구현</a></p>\n<ul>\n<li><a href=\"#equ\">EQU</a></li>\n<li><a href=\"#dcd\">DCD</a></li>\n<li><a href=\"#ldr\">LDR</a></li>\n<li><a href=\"#thumb-%EB%A1%9C-%EB%B3%80%ED%99%98%ED%95%98%EA%B8%B0\">Thumb 로 변환하기</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#ldr-rd-label-%EC%A3%BC%EC%86%8C-%EB%A1%9C%EB%94%A9\">LDR Rd, =label 주소 로딩</a></p>\n<ul>\n<li><a href=\"#ldr-rd-label-%EB%AC%B8%EC%9E%90%EC%97%B4-%EB%B3%B5%EC%82%AC-%EC%97%B0%EC%8A%B5\">LDR Rd, =label 문자열 복사 연습</a></li>\n<li><a href=\"#dcb\">DCB</a></li>\n<li><a href=\"#ldrstr\">LDR/STR</a></li>\n<li><a href=\"#thumb%EB%A1%9C-%EB%B3%80%ED%99%98\">Thumb로 변환</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"레지스터에 주소 로드 레지스터에 주소를 로드해야 하는 경우가 종종 있다. 변수의 주소 값, 문자열 상수 또는 점프 테이블의 시작 위치… 주소는 일반적으로 현재 pc 또는 다른 레지스터의 오프셋으로 표현된다. 레지스터를 직접로드하려면 ADR, ADRL 을 사용한 직접로드 리터러 풀에서 주소 로드 (LDR, Rd, = label) ADR, ADRL 직접 로딩 ADR, ADRL 의사 명령어를 사용하면 데이터 로드를 수행하지 않고 특정 범위 내에서 주소를 생성할 수 있다. 선택적 오프셋이 있는 레이블 인 프로그램 기준 표현식 이며 여기서 레이블의 주소는 현재 PC에 상대적이다. 선택적 오프셋이 있는 레이블 인 레지스터 기준 식 이며 여기서 레이블의 주소는 지정된 범용 레지스터에 있는 주소에 상대적이다. 어셈블러는 다음을 생성하여  의사 명령어를 변환한다. 주소가 범위내에 있는 경우 주소를로드하는 단일 ADD, SUB 명령어 단일 명령어에서 주소에 도달할 수 없는 경우 오류 메시지 어셈블러…","frontmatter":{"date":"February 10, 2021","title":"ARM Register Address load","categories":"ARM","author":"Zer0Luck","emoji":"🍄"},"fields":{"slug":"/arm-5/"}},"next":{"id":"55fcbec8-216b-594f-a9b8-ce43e46ab12e","html":"<ul>\n<li>37개의 레지스터가 있다.</li>\n<li>레지스터는 부분적으로 겹치는 bank에 배열된다.</li>\n<li>프로세서 모드마다 다른 레지스터 bank가 있다.</li>\n<li>bank 레지스터는 프로세서 예외 및 권한있는 작업을 처리하기 위한 빠른 문맥 교환을 제공한다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAADIklEQVQozy2SW0xTdwCHf16WQClXRcyUNaIYG4kwes5pbc/hnFJA6fX0dnoop1UWjYnLEqPOuLlsS9wyDBdxGIJGVG5W8RLnvEGhF6hxm0o0g/myiDyULTFxEXnbw38p2e/p9/S9fB800K5lqvwvqO1ia9kag4+p9KbL17FWukLsoHZ4nwMooirEIarCnQKQw+oCt026wCiAXI6SJw2Vvgj+n3aDAGTn60s83jFitd+8UFn9dYDl7hJaf1IymiIDXM1PpFiDfCM7Eme5W4slm6AysiMzJvbmq2INVCb2RtrEjjwDsMLtv75yZ5V/FfLydpaEQ9PE54td1OtPNYWUaVJn6ZK5mofDZnOKlJaigOejk4KQXCorg4rnJ/4QhMR8eTlyeD72Ny9MTNeY78HodIPSWQGodcUh5Tfi8Y71Velb5abQU2LgT0t2x+iQ1/eIAMhzusaTHu/kewBZohib9XiTrwFki+7EgugamxHKOY/Hsjdo2+6SYMlt0CjKE+LzjF3eVfVtKNiYII3V3ysBfzTSrPxCKoB1kj82pTQ/WtIChXIg8VJpTs2XAkXBYCod8N6fEzZb3jaaZGLW2t7AnFOv2RN+QmxS/HJkoy/0O9NGbmjDisUajXhcqWWg0xadEp3JJQYodNrHX4qO+DwNFLmcibRj1525Bu3ut1aTTGozQGRVF4eVX4lVmey7vdEhp+nvyITWL20VYkN6YYqoNyGP4qNJmk8srd6KLIofn6X4+GvVNmRTQnyB5h7MOqotkrt2b9ixwx2EOpcpOXjgOQl99qzv7haf/K7uNPmZ+zTQYekf7LddJ/gIBT11/Yk+67VFfAhVb/3gzAXb1Tl8gJxz9YML5+2Rpz/6h0G7ZRgMIpCl1q1vaRklew7cG9i/bZ/SXttLWthjwVPG1mtna7sJClHQxrY9PmM+8y8AVTvX/meXueuvTJOdXMc/nULnbCab7n2XVjZQ0ipkqz9ea7P3zNc5un/4ZIPdftJ4fDGwWbIdow91fEN/nrGZe5w+fOUr5uiLjNkvmSMPTjBHk5l/gjny+Avm8B1CyHLYzWVN+A8jCyszEZffxQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./ARM-REGISTER.png\"\n        title=\"./ARM-REGISTER.png\"\n        src=\"/static/e175b022f95e84c8dcb64d41455ab154/37523/ARM-REGISTER.png\"\n        srcset=\"/static/e175b022f95e84c8dcb64d41455ab154/e9ff0/ARM-REGISTER.png 180w,\n/static/e175b022f95e84c8dcb64d41455ab154/f21e7/ARM-REGISTER.png 360w,\n/static/e175b022f95e84c8dcb64d41455ab154/37523/ARM-REGISTER.png 720w,\n/static/e175b022f95e84c8dcb64d41455ab154/302a4/ARM-REGISTER.png 1080w,\n/static/e175b022f95e84c8dcb64d41455ab154/07a9c/ARM-REGISTER.png 1440w,\n/static/e175b022f95e84c8dcb64d41455ab154/599ea/ARM-REGISTER.png 1926w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"범용-32-bit-register\" style=\"position:relative;\"><a href=\"#%EB%B2%94%EC%9A%A9-32-bit-register\" aria-label=\"범용 32 bit register permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>범용 32 bit register</h2>\n<ul>\n<li>프로세서 모드에 따라 r0, r1, …, r13, r14와 같은 15개의 범용 레지스터가 한 번에 표시된다.</li>\n<li>R0 ~ R10은 범용 적으로 사용</li>\n<li>R11 ~ R15특별한 목적으로 사용됨</li>\n</ul>\n<h3 id=\"r0-register\" style=\"position:relative;\"><a href=\"#r0-register\" aria-label=\"r0 register permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>r0 Register</h3>\n<ul>\n<li>Return Value 저장</li>\n</ul>\n<h3 id=\"r0--r3-register\" style=\"position:relative;\"><a href=\"#r0--r3-register\" aria-label=\"r0  r3 register permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>r0 ~ r3 Register</h3>\n<ul>\n<li>함수 호출 시에 Argument를 전달하는 용도로 사용 (인자가 4개 이상일시 스택을 사용)</li>\n</ul>\n<h3 id=\"r11-register\" style=\"position:relative;\"><a href=\"#r11-register\" aria-label=\"r11 register permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>r11 Register</h3>\n<ul>\n<li>현재 스택 프레임의 Frame Pointer를 저장한다.</li>\n</ul>\n<h3 id=\"r13-register\" style=\"position:relative;\"><a href=\"#r13-register\" aria-label=\"r13 register permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>r13 Register</h3>\n<ul>\n<li>ARM 어셈블리 언에서 스택 포인터 (SP)로 쓰인다.</li>\n<li>C, C++ 컴파일러는 항상 r13을 스택 포인터로 사용한다.</li>\n<li>PUSH, POP 명령의 의해서 값이 변화한다.</li>\n</ul>\n<h3 id=\"r14-register\" style=\"position:relative;\"><a href=\"#r14-register\" aria-label=\"r14 register permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>r14 Register</h3>\n<ul>\n<li>BL 명령으로 User Mode에서 r14는 서브 루틴 호출이 수행될 때 리턴 주소를 저장하기 위한 링크 레지스터(lr)로 사용된다.</li>\n<li>반환 주소가 스택에 저장되어 있으면 범용 레지스터로도 사용 가능</li>\n</ul>\n<h3 id=\"r15-register-프로그램-카운터pc\" style=\"position:relative;\"><a href=\"#r15-register-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%B9%B4%EC%9A%B4%ED%84%B0pc\" aria-label=\"r15 register 프로그램 카운터pc permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>r15 Register 프로그램 카운터(PC)</h3>\n<ul>\n<li>프로그램 카운터 r15 (, pc) 로 접근한다.</li>\n<li>ARM 상태에서는 각 명령어에 대해 1 Word (4 byte)</li>\n<li>Thumb 상태에서는 2byte 씩 증가한다.</li>\n<li>분기 명령어는 대상 주소를 프로그램 카운터에 로드한다.</li>\n<li>데이터 조작 명령을 사용하여 프로그램 카운터를 직접 로드할 수 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">MOV pc<span class=\"token punctuation\">,</span> lr</code></pre></div>\n<ul>\n<li>예를 들어 서브 루틴에서 복귀하려면 다음을 사용하여 링크 레지스터를 프로그램 카운터에 복사 할 수 있다.</li>\n<li>실행 중 r15에는 현재 실행중인 명령어의 주소가 포함되지 않는다.</li>\n<li>현재 실행 중인 명령어의 주소는 일반적으로 ARM인 경우 pc-8,</li>\n<li>Thumb인 경우 pc-4이다.</li>\n</ul>\n<h3 id=\"현재-프로그램-상태-레지스터-cpsr\" style=\"position:relative;\"><a href=\"#%ED%98%84%EC%9E%AC-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%83%81%ED%83%9C-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0-cpsr\" aria-label=\"현재 프로그램 상태 레지스터 cpsr permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>현재 프로그램 상태 레지스터 (CPSR)</h3>\n<ul>\n<li>ALU (Arithmetic Logic Unit) 상태 플래그 사본</li>\n<li>현재 프로세서 모드</li>\n<li>인터럽트 비활성화 플래그</li>\n<li>CPSR의 ALU 상태 플래그는 조건부 명령의 실행 여부를 결정하는데 사용된다.</li>\n<li>Thumb 지원 프로세서에서 CPSR은 현재 프로세서 상태 (ARM 또는 Thumb) 도 보유한다.</li>\n<li>ARM 아키텍처 v5TE 에서 CPSR은 Q 플래그도 보유한다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVQY02O4bD3t10XP2W+vu8z6vker6byminuSuXVjkqqqS5KEgkWCjpJT2nHZuvuXpBq/XNbu+nDJddaHM6od7y6IN345LFV9m5FVXsTVNozh////YMxQV/X8f1HOjf+FOY//x0es+6+i4vc/Jubof0lZh/88glr/hUVN/0cHHfpflHf/f27Gzf+FOTf/11Xe+d/W9OR/Zvy+/1JSlgH///9nnDR5Ec/////ZGIIDVr3zcJ3z3ttj6Qc3h+6nauo+tz295r+UkXe8IiSmf1VS2vKGt+us9/4+K957uy/+4Oe15k5o4PrrUWFbbgR4zLlpYxc6MyO7OnnylAU2////V2NwcQos1dN16Le18e4JDU4IVNe2U3H3iijLzpvMkJhUw5qSXioYFpbU6usd0RQemtTrbm4gwwABbFDMxMDAwwj3cm3jBNfE1HK/zNz6wK7eOYZBoRkCU6Yu9umfOJvB2jacYdXqrWyNLZNDaxr6g6rrelMmz97IH+buyoAMpGTNEGFoYRnEwcDAwBobV8jV1TWTg4FBgMnZNYYDpnje/FVM+/YdE5oyZSHPzl0HTQ8cOMnz//83hqSIHkZLrQwGDW1nhrjEQobM7CqwgQA0pcsbNMOf0wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./ARM-CPSR.png\"\n        title=\"./ARM-CPSR.png\"\n        src=\"/static/b4f9de9b7908179611816da8632106ac/37523/ARM-CPSR.png\"\n        srcset=\"/static/b4f9de9b7908179611816da8632106ac/e9ff0/ARM-CPSR.png 180w,\n/static/b4f9de9b7908179611816da8632106ac/f21e7/ARM-CPSR.png 360w,\n/static/b4f9de9b7908179611816da8632106ac/37523/ARM-CPSR.png 720w,\n/static/b4f9de9b7908179611816da8632106ac/302a4/ARM-CPSR.png 1080w,\n/static/b4f9de9b7908179611816da8632106ac/07a9c/ARM-CPSR.png 1440w,\n/static/b4f9de9b7908179611816da8632106ac/6789f/ARM-CPSR.png 2599w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>Condition Code flags\n<ul>\n<li>N = Negative result from ALU</li>\n<li>Z = Zero result from ALU</li>\n<li>C = ALU operation Carried out</li>\n<li>V = ALU operation overflowed</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"5개의-spsr-saved-program-status-register\" style=\"position:relative;\"><a href=\"#5%EA%B0%9C%EC%9D%98-spsr-saved-program-status-register\" aria-label=\"5개의 spsr saved program status register permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5개의 SPSR (Saved Program Status Register)</h3>\n<ul>\n<li>SPSR 예외가 발생할 때 CPSR을 저장하는 데 사용한다.</li>\n<li>각 예외 처리 모드에서 하나의 SPSR 에 액세스할 수 있다.</li>\n<li>사용자 모드 및 시스템 모드는 예외 처리 모드가 아니므로 SPSR이 없다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#%EB%B2%94%EC%9A%A9-32-bit-register\">범용 32 bit register</a></p>\n<ul>\n<li><a href=\"#r0-register\">r0 Register</a></li>\n<li><a href=\"#r0--r3-register\">r0 ~ r3 Register</a></li>\n<li><a href=\"#r11-register\">r11 Register</a></li>\n<li><a href=\"#r13-register\">r13 Register</a></li>\n<li><a href=\"#r14-register\">r14 Register</a></li>\n<li><a href=\"#r15-register-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%B9%B4%EC%9A%B4%ED%84%B0pc\">r15 Register 프로그램 카운터(PC)</a></li>\n<li><a href=\"#%ED%98%84%EC%9E%AC-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%83%81%ED%83%9C-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0-cpsr\">현재 프로그램 상태 레지스터 (CPSR)</a></li>\n<li><a href=\"#5%EA%B0%9C%EC%9D%98-spsr-saved-program-status-register\">5개의 SPSR (Saved Program Status Register)</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"February 09, 2021","title":"ARM Register","categories":"ARM","author":"Zer0Luck","emoji":"🍹"},"fields":{"slug":"/arm-3/idnex/"}},"prev":{"id":"365629df-f85a-55e7-b25c-6af021e4a887","html":"<h1 id=\"load-store-다중-레지스터-명령\" style=\"position:relative;\"><a href=\"#load-store-%EB%8B%A4%EC%A4%91-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0-%EB%AA%85%EB%A0%B9\" aria-label=\"load store 다중 레지스터 명령 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Load, Store 다중 레지스터 명령</h1>\n<ul>\n<li>ARM, Thumb 명령어 집합에는 메모리에서 여러 레지스터를 로드하고 저장하는 명령어 가 포함되어 있다.</li>\n<li>다중 레지스터 전송 명령어는 여러 레지스터의 내용을 메모리로부터 효율적으로 이동하는 방법을 제공한다.</li>\n<li>블록 복사, 서브루틴 진입 및 종료시 스택 작업에 가장 자주 사용된다.</li>\n<li>일련의 단일 데이터 전송 명령어 대신 다중 레지스터 전송 명령어를 사용하면 여러 이득이 있다.\n<ul>\n<li>코드의 크기를 작게 할 수 있다.</li>\n<li>여러 명령 fetch가 아닌 단일 명령 fetch overhead</li>\n<li>캐시되지 않은 ARM 프로세서에서 로드 또는 다중 저장에 의해 전송되는 첫 번째 워드는 항상 비 순차자적 메모리주기이지만 전송되는 모든 후속 word는 순차 메모리 주기 일 수 있다.</li>\n<li>대부분의 시스템에서 순차적 메모리 주기가 더 빠르다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"arm-ldm-stm-명령\" style=\"position:relative;\"><a href=\"#arm-ldm-stm-%EB%AA%85%EB%A0%B9\" aria-label=\"arm ldm stm 명령 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ARM LDM, STM 명령</h2>\n<ul>\n<li>여러 명령어를 로드, 저장 하면 단일 명령어를 사용하여 메모리에서 16개의 범용 레지스터의 하위 집합을 로드, 저장 한다.</li>\n</ul>\n<h3 id=\"ldm\" style=\"position:relative;\"><a href=\"#ldm\" aria-label=\"ldm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LDM</h3>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">LDM <span class=\"token punctuation\">{</span>cond<span class=\"token punctuation\">}</span> address<span class=\"token operator\">-</span>mode Rn<span class=\"token punctuation\">{</span><span class=\"token operator\">!</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> reg<span class=\"token operator\">-</span>list<span class=\"token punctuation\">{</span><span class=\"token operator\">^</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token number\">4</span> addressing modes<span class=\"token operator\">:</span>\nLDMIA <span class=\"token operator\">/</span> STMIA\nLDMIB <span class=\"token operator\">/</span> STMIA\nLDMDA <span class=\"token operator\">/</span> STMDA\nLDMDB <span class=\"token operator\">/</span> STMDB</code></pre></div>\n<p><strong>cond</strong></p>\n<ul>\n<li>선택적 조건 코드 부분</li>\n</ul>\n<p><strong>address-mode</strong></p>\n<ul>\n<li>명령어의 주소 지정 모드를 지정한다.\n<ul>\n<li>IA : 이후 증가</li>\n<li>IB : 이전에 증가</li>\n<li>DA : 이후 감수</li>\n<li>DB : 이전에 감소</li>\n</ul>\n</li>\n</ul>\n<p><strong>Rn</strong></p>\n<ul>\n<li>로드 작업의 기본 레지스터이다.</li>\n<li>해당 레지스터에 저장된 주소는 로드 작업의 시작 주소이다.</li>\n<li>r15(pc) 를 기준 레지스터로 지정하면 안된다.</li>\n</ul>\n<p>!</p>\n<ul>\n<li>기본 레지스터 쓰기를 지정하낟.</li>\n<li>이것이 지정되면 기본 레지스터의 주소가 전송 후 업데이트 된다.</li>\n<li>레지스터 목록의 각 레지스터에 대해 한 단어씩 감소하거나 증가한다.</li>\n</ul>\n<p><strong>Register-list</strong></p>\n<ul>\n<li>중괄호로 묶인 기호 레지스터 이름 및 레지스터 범위의 쉼표로 구분된 목록이다.</li>\n<li>목록에 적어도 하나의 레지스터가 있어야 한다.</li>\n<li>레지스터 범위는 대시로 지정한다.</li>\n<li><code class=\"language-text\">{r0, r1, r4-r6, pc}</code></li>\n<li>기본 레지스터 Rn이 레지스터 목록에 있으면 쓰기, 저장을 하면 안된다.</li>\n</ul>\n<p><strong>^</strong></p>\n<ul>\n<li>사용자 또는 시스템 모드에서 이 옵션을 사용하면 안된다.</li>\n<li>STM 명령어의 구문은 ^ 옵션의 효과에 대한 일부 세부 사항을 제외하고 정확히 일치한다.</li>\n</ul>\n<h2 id=\"ldm-stm으로-스택-구현\" style=\"position:relative;\"><a href=\"#ldm-stm%EC%9C%BC%EB%A1%9C-%EC%8A%A4%ED%83%9D-%EA%B5%AC%ED%98%84\" aria-label=\"ldm stm으로 스택 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LDM, STM으로 스택 구현</h2>\n<ul>\n<li>\n<p>로드 , 저장 여려 명령어는 기본 레지스터를 업데이트 할 수 있다.</p>\n</li>\n<li>\n<p>스택 연산의 경우 기본 레지스터는 일반적으로 스택 포인터 r13이다.</p>\n</li>\n<li>\n<p>즉, 여러 명령어로드 및 저장을 사용하여 단일 명령어에서 여러 레지스터에 대한 푸시 및 팝 작업을 구현할 수 있다.</p>\n</li>\n<li>\n<p>여러 유형의 스택에서 여러로드 및 저장 명령어를 사용할 수 있다.</p>\n</li>\n</ul>\n<p><strong>내림 차순, 오름차순</strong></p>\n<ul>\n<li>스택은 높은 주소에서 시작해서 하위주소로 진행하거나 상위 주소에서 시작해서 상위주소로 진행하여 아래쪽으로 성장한다.</li>\n</ul>\n<p><strong>Full, Empty</strong></p>\n<ul>\n<li>\n<p>스택 포인터는 스택의 미지막 항목(전체 스택) 또는 스택의 다음 여유 공간(빈 스택)을 가리킬 수 있다.</p>\n</li>\n<li>\n<p>증가, 감소 대신 접미사 앞뒤에 스택 지향 접미사를 사용할 수 있다.</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">Stack type\t\t\t\tPush\t\t\tPop\nFull descending\t\t<span class=\"token function\">STMFD</span> <span class=\"token punctuation\">(</span>STMDB<span class=\"token punctuation\">)</span>\t<span class=\"token function\">LDMFD</span> <span class=\"token punctuation\">(</span>LDMIA<span class=\"token punctuation\">)</span>\nFull ascending\t\t<span class=\"token function\">STMFA</span> <span class=\"token punctuation\">(</span>STMIB<span class=\"token punctuation\">)</span>\t<span class=\"token function\">LDMFA</span> <span class=\"token punctuation\">(</span>LDMDA<span class=\"token punctuation\">)</span>\nEmpty descending\t<span class=\"token function\">STMED</span> <span class=\"token punctuation\">(</span>STMDA<span class=\"token punctuation\">)</span>\t<span class=\"token function\">LDMED</span> <span class=\"token punctuation\">(</span>LDMIB<span class=\"token punctuation\">)</span>\nEmpty ascending\t\t<span class=\"token function\">STMEA</span> <span class=\"token punctuation\">(</span>STMIA<span class=\"token punctuation\">)</span>\t<span class=\"token function\">LDMEA</span> <span class=\"token punctuation\">(</span>LDMDB<span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>연습1</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"wasm\"><pre class=\"language-wasm\"><code class=\"language-wasm\">LDMXX r10, {r0, r1, r4}\nSTMXX r10, {r0, r1, r4}</code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 85%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAEgklEQVQ4y2XUe2hbVRwH8LMHKqtt1zXJknVJ7vuRm9ykyU2a3KQ39948apvsVbraMat11na2Psbmi+EeumV0oM3KsA0yhjCoY0UQda7zL//wD51k4hwSNsRsykRQtKh43W73k6RjQz3wOd9zfv8c+MHvoGiLjMQ1UeRbHUEjZA7NTpxAxuHZ5Yb8LHWre+9Fc6RomDunfjXHjy+Yw5ML5nPTC+aumd/MnVO/38rv+2lR2c/sQwjBaViWjwQQOoENodpqqm1tWfTJ4EEE/qdabiu7JxbTLxYXd7xeWhw9Nl23442l3Dk1fXt0aubmQ3ve/KO997FzCN1/bRrQCsGKEOQuLUMIrTwKgMKYZnOTnR/RvH6e5PVzNkZ5txWLnbFg8pwFi81Z8FrKc1Y8PrfGFZxjI+NzmdyZs9mu2Xmv+MT51rW+eeRsCryvdvb/0BHaeN3eKL7nxOKLBJMEnE4CSSeBYtR/YTgdOE8GMCICmcxrMD52DUZHvoVI9HlosQqA8MbAq0rHllk5uOGUszkwgVOKyfApoDkdGP6/UsB60sB7u4BkZdDTh+Dxoauwffs3EJR2Q+taAZClUURxfQD5Qjl037bscjeZmGZ4vUTz+kwt6zypEuPRl9Rr6RLFxkpi+5ZSLP5yKSrvL3l820oWu38GxSwJp2ulwLoRh/MOOeAiEl9TrHaFZNUKxWr/Q/PpCsnEKlJkVyWX/7jS3fNBpV0arbgJqWJ1RCpo3YPiJV0dAFV5GGwN3gsuLH7TTXbCEgXunZcQtAZOTIKkdgCeefoGjI9/D5p+AOzr28FqDwPiGoMbOsXck4ovN4SvDj7iJhJ/0rx+m2JVs45TTZrT72I9GZPiZDMWf8ns6/vC7O39zOyIvWBiVNS0reswka1JRLy/C9GeFOKXBxBGKYcFMXvEF9hSENu3Frz+3gLvzRY8vswd2QLnTRV4b77gDz5a8AcHC77A5gIn6EesDukwYptDWRFXtwdwrZ9oDfe78MQCySRvpjNvG319nxsbN35ocELeIBnFoFjNoDndYPiUQfOaQXHJep1kkwbBqIbVIRmorUG8IgVyEBS7oa0p8BVGdP7txOOwdetZGBv7EYaHy8B78+DEZcBIBXBKAYJOAkGrQDAq4FQSMEoBF56A1rVBQL41Yaeryc86HxBwwhYOuvDEVZKNX1eSx6s9PfPVTPZMlfXkqhSbrNKcXmX41F00r1cpVqsjGbVqdUjfoVUNHGI7csglaAgAEEbFJ6XI2LGo/EpRiuwpckJXkRP0Iu/NFLm6dJET7vCmi6xw7251SJPI3eDfGw3kT4Z93W85m0OH1rsl6MmfhMHByzAw8Cl4fH1A0AkgWQ1IVq1PEM3r9aQ4DUhGrau1weYIA1q3yne+Q9rwS8jf83Nbc/CsE5P+2rT5NAwP34ChocsgiP3gJuWlntXmuzbTrLaE0+uP1NR6a7GHAME7UPttVhwEQF5X2u4iohfkxMEvU+lTZSVZKnPCpjLDq2WGT5UZXi+zntRdjCdVpjitTHNamWLVixZ7qPwP/ab1GqYdugoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./MULTI_LOAD_STORE.png\"\n        title=\"./MULTI_LOAD_STORE.png\"\n        src=\"/static/9592e6e7b28b19027b81b686ba543e17/37523/MULTI_LOAD_STORE.png\"\n        srcset=\"/static/9592e6e7b28b19027b81b686ba543e17/e9ff0/MULTI_LOAD_STORE.png 180w,\n/static/9592e6e7b28b19027b81b686ba543e17/f21e7/MULTI_LOAD_STORE.png 360w,\n/static/9592e6e7b28b19027b81b686ba543e17/37523/MULTI_LOAD_STORE.png 720w,\n/static/9592e6e7b28b19027b81b686ba543e17/709cb/MULTI_LOAD_STORE.png 1034w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>연습 2</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">STMFD    r13<span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>r0<span class=\"token operator\">-</span>r5<span class=\"token punctuation\">}</span>  <span class=\"token punctuation\">;</span> Full 내림차순 스택으로 PUSH\nLDMFD    r13<span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>r0<span class=\"token operator\">-</span>r5<span class=\"token punctuation\">}</span>  <span class=\"token punctuation\">;</span> Full 내림차순 스택에서 POP</code></pre></div>\n<h3 id=\"중첩-된-서브-루틴에-대한-스택-레지스터\" style=\"position:relative;\"><a href=\"#%EC%A4%91%EC%B2%A9-%EB%90%9C-%EC%84%9C%EB%B8%8C-%EB%A3%A8%ED%8B%B4%EC%97%90-%EB%8C%80%ED%95%9C-%EC%8A%A4%ED%83%9D-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0\" aria-label=\"중첩 된 서브 루틴에 대한 스택 레지스터 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>중첩 된 서브 루틴에 대한 스택 레지스터</h3>\n<ul>\n<li>스택 작업은 서브 루틴 진입 및 종료시 매우 유용하다.</li>\n<li>서브 루틴을 시작할 때 필요한 작업 레지스터를 스택에 저장할 수 있다.</li>\n<li>종료할 때 다시 POP off 할 수 있다.</li>\n<li>또한 링크 레지스터가 진입시 스택으로 푸시되면 반환 주소를 잃지 않고 추가 서브 루틴 호출을 안전하게 수행할 수 있다.</li>\n<li>이렇게 하면 lr 를 POP 한 다음 해당 값을 PC로 이동하는 대신 종료시 스택에서 PC를 POP 하여 서브 루틴으로 복귀할 수 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">subroutine  STMFD   sp<span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>r5<span class=\"token operator\">-</span>r7<span class=\"token punctuation\">,</span>lr<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">;</span> 작업 레지스터 및 lr 푸시\n            <span class=\"token punctuation\">;</span> code\n            BL      somewhere_else\n            <span class=\"token punctuation\">;</span> code\n             LDMFD   sp<span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>r5<span class=\"token operator\">-</span>r7<span class=\"token punctuation\">,</span>pc<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">;</span> 작업 레지스터 및 pc POP</code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#arm-ldm-stm-%EB%AA%85%EB%A0%B9\">ARM LDM, STM 명령</a></p>\n<ul>\n<li><a href=\"#ldm\">LDM</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#ldm-stm%EC%9C%BC%EB%A1%9C-%EC%8A%A4%ED%83%9D-%EA%B5%AC%ED%98%84\">LDM, STM으로 스택 구현</a></p>\n<ul>\n<li><a href=\"#%EC%A4%91%EC%B2%A9-%EB%90%9C-%EC%84%9C%EB%B8%8C-%EB%A3%A8%ED%8B%B4%EC%97%90-%EB%8C%80%ED%95%9C-%EC%8A%A4%ED%83%9D-%EB%A0%88%EC%A7%80%EC%8A%A4%ED%84%B0\">중첩 된 서브 루틴에 대한 스택 레지스터</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"February 10, 2021","title":"ARM Load,Store Multi Register Instruction","categories":"ARM","author":"Zer0Luck","emoji":"🍆"},"fields":{"slug":"/arm-9/"}},"site":{"siteMetadata":{"siteUrl":"https://zer0luck.kr","comments":{"utterances":{"repo":"dnsdudrla97/dnsdudrla97.github.io"}}}}},"pageContext":{"slug":"/arm-5/","nextSlug":"/arm-3/idnex/","prevSlug":"/arm-9/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}