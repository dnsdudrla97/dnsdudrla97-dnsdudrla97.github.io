{
    "componentChunkName": "component---src-templates-category-template-js",
    "path": "/posts/Windows",
    "result": {"pageContext":{"currentCategory":"Windows","categories":["All","Windows","windows","1-day","CTF","AnalyzingBinaries","troubleshooting","Mobile","Tools","Theory","Talk","Language"],"edges":[{"node":{"id":"4cf4f426-dd33-58b3-8144-d8b530eeb3e9","excerpt":"window NT 데이터 구조체 이며 프로세스 정보를 담고 있는 구조체 PEB 접근 방법 TEB.ProcessEnvironmentBlock 멤버가 PEB 구조체의 주소 TEB 구조체는 FS 세그먼트 셀렉터가 가리키는 세그먼트 메모리의 base address에 위치한다. 그리고 ProcessEnvironmentBlock 멤버는 TEB 구조체 시작 부터 30 옵셋만큼 떨어져 있다. method 1 바로 PEB 주소를 구하는 방법 method 2 TEB 주소를 구한후 ProcessEnvironmentBlock 멤버를 이용  FS:[0x30] 주소 값을 확인할 수 있다. PEB 구조체 정의 PEB.BeingDebugged Kernel32!IsDebuggerPresent() API 현재 프로세스가 디버깅을 당하는지를 판단해서 결과를 반환한다. API가 참조하는 정보가 바로 PEB.BeingDebugged 멤버이다. (디버깅 중이면1, 아니면 0을 반환) PEB.ImageBaseAddress…","fields":{"slug":"/window_1_theori/"},"frontmatter":{"categories":"Windows","title":"PEB (Process Environment Block)","date":"January 03, 2021"}},"next":{"fields":{"slug":"/cve_2012_0002_1-day/"}},"previous":null},{"node":{"id":"c84a2764-f589-5841-87d8-3db17c294c1d","excerpt":"윈도우 실행 파일 구조 PE 파일 (Portable Excutable) 다양한 정보를 포함한 커다란 구조체들로 이루어져 있다. 수만은 테이블과 멤버들을 포함하고 있다. PE 파일의 종류 종류 설명 EXE 실행파일 SCR 실행파일 (화면 보호기) DLL 라이브러리 OCX 라이브러리 (ActivieX) SYS 시스템 드라이버 OBJ 오브젝트 파일 SCR 파일이 실행 파일임을 인지 하지 못한채 악성 코드로 동작하게 되어 피해가 발생한 경우가 다수 첫 바이트 부터 시작된다. PE 파일은 파일에 존재할 때의 구조와 메모리에 로드된 후의 모습이 달라진다. 파일에서는 첫 바이트부터의 거리를 offset을 사용한다. 메모리에서는 VA(Virtual Address), RVA(Relative Virtual Address, 상대적 가상 주소) 고정 주소 대신 상대 주소를 사용하는 이유는 해당 PE 파일이 메모리에 로드 될 때 한 주소에 고정적으로 로딩되는 것이 아니기 떄문이다. 메모리에 로드된 후에 …","fields":{"slug":"/windowPE_theori/"},"frontmatter":{"categories":"Windows Theory","title":"Windows PE","date":"June 02, 2020"}},"next":{"fields":{"slug":"/vuln_exploit_talk/"}},"previous":{"fields":{"slug":"/Metasploit1_theori/"}}}]}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}