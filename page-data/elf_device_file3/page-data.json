{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/elf_device_file3/",
    "result": {"data":{"cur":{"id":"ad1d6292-b2dd-5378-a8c7-d97b14e48b7c","html":"<h2 id=\"ld_preload-환경-변수\" style=\"position:relative;\"><a href=\"#ld_preload-%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98\" aria-label=\"ld_preload 환경 변수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LD_PRELOAD 환경 변수</h2>\n<ul>\n<li>다른 라이브러리보다 먼저 동적으로 링크하도록 라이브러리 경로를 지정한다.</li>\n<li>해당 설정은 사전에 로드하는 라이브러리의 함수나 심볼을 나중에 링크되는 라이브러리 함수나 심볼을 오버라이드 한다.</li>\n<li>공유 라이브러리 함수를 리다렉션하여 런타임 패치를 수행한다.</li>\n</ul>\n<h2 id=\"ld_show_auxv-환경-변수\" style=\"position:relative;\"><a href=\"#ld_show_auxv-%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98\" aria-label=\"ld_show_auxv 환경 변수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LD_SHOW_AUXV 환경 변수</h2>\n<ul>\n<li>실행하는 동안 프로그램의 보조 벡터를 출력하도록 프로그램 로더에게 알린다.</li>\n<li><code class=\"language-text\">보조 벡터</code> 는 프로그램의 스택 (커널의 ELF 로딩 루틴에 의한)에 위치한 정보로 프로그램에 관한 특정 정보와 함께 동적 링커로 전달된다.</li>\n<li>해당 정보는 리버싱과 디버깅에 유용하다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.22222222222222%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4ElEQVQoz43QTXKDIABA4Zyj1aiACoL8KKQwtZ2aRGOo0WTsovc/SScXqM687bd5u+H28PMCciq08/eFcAXyIgRZmGQRwv+3u4z33k9BkjJlmraDmL7GKE5JnJJ1fL7e2t6HICO8EtpK43h12MN8VT7xdXq0nQ+SlGt7HEZRv0HMtsgn9vNi379eIsiUQaQMQRYk6Vbcf8/nYYwRJqJGBUe4RKTcijs/zT+/EDMqddN2tW2kcXuQbcKfp77tfKlMztTHsWfKFKKGOd2EpXFCO1FbKjWvDlRqpozQNkLrw/8AVAxYpqo/PrsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./0.png\"\n        title=\"./0.png\"\n        src=\"/static/c7618e310a37d63bb06cc303d105eb43/37523/0.png\"\n        srcset=\"/static/c7618e310a37d63bb06cc303d105eb43/e9ff0/0.png 180w,\n/static/c7618e310a37d63bb06cc303d105eb43/f21e7/0.png 360w,\n/static/c7618e310a37d63bb06cc303d105eb43/37523/0.png 720w,\n/static/c7618e310a37d63bb06cc303d105eb43/62de4/0.png 746w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>프로세스 이미지에 위치한 <code class=\"language-text\">VDSO</code> 페이지의 메모리 주소는 <code class=\"language-text\">AT_SYSINFO</code> 를 확인해야 한다.</li>\n</ul>\n<h2 id=\"링커-스크립트\" style=\"position:relative;\"><a href=\"#%EB%A7%81%EC%BB%A4-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\" aria-label=\"링커 스크립트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>링커 스크립트</h2>\n<ul>\n<li>링커 스크립트는 링커가 해석해 섹션, 메모리, 심볼 등 프로그램의 레이아웃을 구성한다.</li>\n<li>기본 링커 스크립터는 <code class=\"language-text\">ld -verbose</code> 명령어로 확인한다.</li>\n<li><code class=\"language-text\">ld</code> 링커 프로그램은 (재배치 가능한 객체 파일, 공유 라이브러리, 헤더 파일 등) 입력 파일을 받을 때 해석된다.</li>\n<li>해당 스크립트는 실행 프로그램과 같은 출력 파일을 어떻게 구성할지 지정한다.</li>\n<li>출력이 ELF 실행 파일이라면 링커 스크립트는 어떻게 배치하고 각 세그먼트에 섹션을 지정할 사용한다.</li>\n<li><code class=\"language-text\">.bss</code> 섹션은 항상 데이터 세그먼트 끝에 위치하며 이는 링커 스크립트에 의해 결정된다.</li>\n<li>컴파일하는 동안 링킹 과정에 대한 분석은 중요하다. <code class=\"language-text\">gcc</code> 는 해당 작업을 할 때 링커와 다른 프로그램에 의존한다.</li>\n<li>일부, 실행 파일의 배치를 제어 할 수 있다는 것은 매우 중요한 사실</li>\n</ul>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#ld_preload-%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98\">LD_PRELOAD 환경 변수</a></li>\n<li><a href=\"#ld_show_auxv-%ED%99%98%EA%B2%BD-%EB%B3%80%EC%88%98\">LD_SHOW_AUXV 환경 변수</a></li>\n<li><a href=\"#%EB%A7%81%EC%BB%A4-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8\">링커 스크립트</a></li>\n</ul>\n</div>","excerpt":"LD_PRELOAD 환경 변수 다른 라이브러리보다 먼저 동적으로 링크하도록 라이브러리 경로를 지정한다. 해당 설정은 사전에 로드하는 라이브러리의 함수나 심볼을 나중에 링크되는 라이브러리 함수나 심볼을 오버라이드 한다. 공유 라이브러리 함수를 리다렉션하여 런타임 패치를 수행한다. LD_SHOW_AUXV 환경 변수 실행하는 동안 프로그램의 보조 벡터를 출력하도록 프로그램 로더에게 알린다.  는 프로그램의 스택 (커널의 ELF 로딩 루틴에 의한)에 위치한 정보로 프로그램에 관한 특정 정보와 함께 동적 링커로 전달된다. 해당 정보는 리버싱과 디버깅에 유용하다.  프로세스 이미지에 위치한  페이지의 메모리 주소는  를 확인해야 한다. 링커 스크립트 링커 스크립트는 링커가 해석해 섹션, 메모리, 심볼 등 프로그램의 레이아웃을 구성한다. 기본 링커 스크립터는  명령어로 확인한다.  링커 프로그램은 (재배치 가능한 객체 파일, 공유 라이브러리, 헤더 파일 등) 입력 파일을 받을 때 해석된다. 해…","frontmatter":{"date":"August 16, 2020","title":"리눅스 링커 환경 변수","categories":"AnalyzingBinaries","author":"Zer0Luck","emoji":"🎁"},"fields":{"slug":"/elf_device_file3/"}},"next":{"id":"b6a5109c-3ab5-58e6-9a66-7219894bc636","html":"<h1 id=\"device-file\" style=\"position:relative;\"><a href=\"#device-file\" aria-label=\"device file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Device File</h1>\n<h2 id=\"procpidmaps\" style=\"position:relative;\"><a href=\"#procpidmaps\" aria-label=\"procpidmaps permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/proc/<pid>/maps</h2>\n<ul>\n<li>각 메모리 매핑을 표시해 프로세스 이미지에 대한 레이아웃을 가진다.</li>\n<li>실행 파일, 공유 라이브러리, 스택, 힙, VDSO 등이 포함된다.</li>\n<li>프로세스 주소 공간의 배치를 신속히 분석할 때 매우 중요하다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUklEQVQY0zWQ7W6CMBiFuRBxAoPqHCoWqErlS1oppUDtxphuy+7/KhZClry/zpsn5+TRWHNTw6OW76y5lUKmlDfqA50ziCITrOcWeHpe6qaz3vkIp9bydUqm06pWdf1dqL7r70zIuCiH799r3WWEGc7L3AILe6WbztY/nHNqgfXMsHXL0S0wt4B2YUINj7K51bJnTXe+jDCpGsLEBiLddBb2ambYHoqya+UfcRglhzgPotjdh1pclGp4FFXLWlW1EmdUDV8FE0xIeIhmhj01byCivMU5wfk1pTzKCi88aQlhsv+kvCuFZEKmBRu+fylvc8qWrjc1zy0AXA8ez1sfbSDaBSd3Hz6vXC2l1e3jfhWyahXvVEKqCb6U/GULJ3gU5vk4JxBheMBBlOyCI1hvx9nN23BhNa0l4SJKSf/4obxFOJnEjrBhe+EpOMW66fyrHl9/XbJhM+gNYqkAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./0.png\"\n        title=\"./0.png\"\n        src=\"/static/f92311cfb9b3169d48616eca5592f1b0/37523/0.png\"\n        srcset=\"/static/f92311cfb9b3169d48616eca5592f1b0/e9ff0/0.png 180w,\n/static/f92311cfb9b3169d48616eca5592f1b0/f21e7/0.png 360w,\n/static/f92311cfb9b3169d48616eca5592f1b0/37523/0.png 720w,\n/static/f92311cfb9b3169d48616eca5592f1b0/9c177/0.png 880w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"prockcore\" style=\"position:relative;\"><a href=\"#prockcore\" aria-label=\"prockcore permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/proc/kcore</h2>\n<ul>\n<li>proc 파일시스템에 있는 엔트리로 리눅스 커널의 동적 코어 파일처럼 행동한다.</li>\n<li>GDB에 커널 디버깅과 분석을 목적으로 사용할 수있는 ELF 코어 파일 형태인 로우 메모리 덤프이다.</li>\n</ul>\n<h2 id=\"bootsystemmap\" style=\"position:relative;\"><a href=\"#bootsystemmap\" aria-label=\"bootsystemmap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/boot/System.map</h2>\n<ul>\n<li>모든 리눅스 배포판에서 사용할 수 있고 커널 해커에게 아주 유용하다.</li>\n<li>전체 커널의 모든 심볼이 담겨 있다.</li>\n</ul>\n<h2 id=\"prockallsyms\" style=\"position:relative;\"><a href=\"#prockallsyms\" aria-label=\"prockallsyms permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/proc/kallsyms</h2>\n<ul>\n<li>kallsyms는 /proc 엔트리만 제외하고 커널이 관리하고 동적으로 업데이트하여 <code class=\"language-text\">System.map</code> 과 매우 유사하다.</li>\n<li>새로운 LKM을 설치하면 심볼은 /proc/kallsyms에 바로 추가된다.</li>\n<li>/proc/kallsyms는 대부분의 심볼과 <code class=\"language-text\">CONFIG_KALLSYMS_ALL</code> 커널 설정에 명시된 것 전부가 포함된다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqUlEQVQY02MIiYz2CQyxsHGwdnC1dXTTNTSTVVKTV9EgBjEkpGWGRsVa2Ts7unpp6hmpaOoqqmkRqzksOs43KNTC1sHO2cPIzAqiX1ZJTU5ZnbDm+NSMsOhYM2s7T78QBxdPXSMzTT1jFU1dJXVtYm22tHW0c3a3c3Z3cPOyd/E0NLXS0DUkrDkpIys8Jt7RzcvV29/Zw9fV28/V29/E0lZaQVlBVRO/ZgDcp0Lrb2pJpAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./1.png\"\n        title=\"./1.png\"\n        src=\"/static/11a26658921166cc4f3e04b17e3fee9c/37523/1.png\"\n        srcset=\"/static/11a26658921166cc4f3e04b17e3fee9c/e9ff0/1.png 180w,\n/static/11a26658921166cc4f3e04b17e3fee9c/f21e7/1.png 360w,\n/static/11a26658921166cc4f3e04b17e3fee9c/37523/1.png 720w,\n/static/11a26658921166cc4f3e04b17e3fee9c/136a2/1.png 884w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"prociomem\" style=\"position:relative;\"><a href=\"#prociomem\" aria-label=\"prociomem permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/proc/iomem</h2>\n<ul>\n<li><code class=\"language-text\">/proc/&lt;pid>/maps</code> 와 유사하지만 시스템 메모리 전체에 대한 용도로 쓰인다.</li>\n<li>물리 메모리에 매핑된 커널의 텍스트 세그먼트의 위치를 알고자 한다면 <code class=\"language-text\">Kernel</code> 문자열을 검색해 코드/텍스트 세그먼트. 데이터 세그먼트, bss 세그먼트를 확인한다.</li>\n</ul>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#procpidmaps\">/proc/<pid>/maps</a></li>\n<li><a href=\"#prockcore\">/proc/kcore</a></li>\n<li><a href=\"#bootsystemmap\">/boot/System.map</a></li>\n<li><a href=\"#prockallsyms\">/proc/kallsyms</a></li>\n<li><a href=\"#prociomem\">/proc/iomem</a></li>\n</ul>\n</div>","frontmatter":{"date":"August 16, 2020","title":"ELF 분석에 유용한 디바이스 파일 (Device File)","categories":"AnalyzingBinaries","author":"Zer0Luck","emoji":"💋"},"fields":{"slug":"/elf_device_file1/"}},"prev":{"id":"be8c73c9-a412-5fbd-8828-bacf94912612","html":"<h1 id=\"elf-파일-형식\" style=\"position:relative;\"><a href=\"#elf-%ED%8C%8C%EC%9D%BC-%ED%98%95%EC%8B%9D\" aria-label=\"elf 파일 형식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ELF 파일 형식</h1>\n<h2 id=\"et_noneelf-type-none\" style=\"position:relative;\"><a href=\"#et_noneelf-type-none\" aria-label=\"et_noneelf type none permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ET_NONE(ELF type none)</h2>\n<ul>\n<li><code class=\"language-text\">unknown type</code></li>\n<li>파일은 아직 정의되지 않았거나 알 수 없다.</li>\n</ul>\n<h2 id=\"et_relelf-type-relocatable\" style=\"position:relative;\"><a href=\"#et_relelf-type-relocatable\" aria-label=\"et_relelf type relocatable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ET_REL(ELF Type relocatable)</h2>\n<ul>\n<li>재배열이 가능한 파일 형식</li>\n<li>이 형식의 파일은 파일의 전체 또는 일부가 재배열 가능하다.</li>\n<li>재배열 가능한 파일은 위치 독립 코드 (PIC, Position Independent Code) 라고 한다.</li>\n<li><code class=\"language-text\">아직 실행 파일에 링킹되지 않은 상태</code></li>\n<li>코드를 컴파일 해 얻을 수 있는 <code class=\"language-text\">.o</code> 파일은 실행 파일을 생성하는 데 필요한 코드와 데이터를 포함한다.</li>\n</ul>\n<h2 id=\"et_execelf-executable\" style=\"position:relative;\"><a href=\"#et_execelf-executable\" aria-label=\"et_execelf executable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ET_EXEC(ELF executable)</h2>\n<ul>\n<li>실행 파일 형식이다.</li>\n<li>이 형식의 파일은 실행 파일이며 프로그램이라고 부른다.</li>\n<li>프로세스의 시작 지점인 Entry Point가 있다.</li>\n</ul>\n<h2 id=\"et_dynelf-type-dynamic\" style=\"position:relative;\"><a href=\"#et_dynelf-type-dynamic\" aria-label=\"et_dynelf type dynamic permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ET_DYN(ELF type dynamic)</h2>\n<ul>\n<li>공유 오브젝트 파일 형식</li>\n<li>동적 링킹이 가능한 오브젝트 파일로 공유 라이브러리하고도 함</li>\n<li>실행 시간(runtime) 에 프로그램의 프로세스 이미지로 로드되고 링크된다.</li>\n</ul>\n<h2 id=\"et_coreelf-type-core\" style=\"position:relative;\"><a href=\"#et_coreelf-type-core\" aria-label=\"et_coreelf type core permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ET_CORE(ELF type core)</h2>\n<ul>\n<li>코어 파일 형식</li>\n<li>코어 파일은 프로세스의 이미지의 전체 덤프이다.</li>\n<li>주로 프로그램이 비정상적으로 종료되거나 <code class=\"language-text\">SIGSEGV</code> 시그널 (Segmentation Falut)로 인해 프로세스가 종료됐을 때 생성된다.</li>\n<li>GDB를 이용해 코어 파일의 정보를 읽고 프로그램이 비정상적으로 종료된 시점에서의 원인을 분석할 수 있다</li>\n</ul>\n<h2 id=\"elf-파일-헤더\" style=\"position:relative;\"><a href=\"#elf-%ED%8C%8C%EC%9D%BC-%ED%97%A4%EB%8D%94\" aria-label=\"elf 파일 헤더 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ELF 파일 헤더</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVQY033PXXKDIBQF4Cwkib8IiFgwAQqioBh1ajvT7n8zbdrpS5tk5r6ch2/Oubtle2/9JI3TfdAu6G5U3cCMZUJzaWijyrohT6cYoCj/eztpXJQjWDFEOShrRHnrg/UXJgxXpmTnHNNDWvyXV+zCmkHyE44ZTCBRrW/9hZ11hqoUkqQob8or7sc5hWQfg0NaHDOYocq4IHSv7HB6trSRoKyPGbyNh3kTpjcucGFigBNI/OVFdwNhgjYyx/RRc+uns+6UHRplY4BTSPppVdZXXNCTTAp8r/b752ntxyWsb7ob4xwlRSmtV62LcrhPwD32O3vZ/LSO87a8flAucN1wYRDlMcCP5Rf+BGDXU873WDe2AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./0.png\"\n        title=\"./0.png\"\n        src=\"/static/5aa1ec71fc5f4db9baf6cc908eeb1011/37523/0.png\"\n        srcset=\"/static/5aa1ec71fc5f4db9baf6cc908eeb1011/e9ff0/0.png 180w,\n/static/5aa1ec71fc5f4db9baf6cc908eeb1011/f21e7/0.png 360w,\n/static/5aa1ec71fc5f4db9baf6cc908eeb1011/37523/0.png 720w,\n/static/5aa1ec71fc5f4db9baf6cc908eeb1011/d9217/0.png 904w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>ELF 파일 헤더는 파일의 offset <code class=\"language-text\">0</code>에서 시작한다.</li>\n</ul>\n<p><strong>헤더</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token number\">1.</span> ELF 형식\n<span class=\"token number\">2.</span> 아키텍처\n<span class=\"token number\">3.</span> 엔트리 포인트 주소\n<span class=\"token number\">4.</span> 섹션 헤더\n<span class=\"token number\">5.</span> 프로그램 헤더\n<span class=\"token number\">6.</span> 다른 ELF 헤더의 주소 오프셋\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<ul>\n<li>파일에 대한 주요 정보를 제공한다.</li>\n</ul>\n<p><em><strong>Linux Programer;s Manual - ELF(5)</strong></em></p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">EI_NIDENT</span> <span class=\"token expression\"><span class=\"token number\">16</span></span></span>\n\n           <span class=\"token keyword\">typedef</span> <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">{</span>\n               <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">char</span> e_ident<span class=\"token punctuation\">[</span>EI_NIDENT<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint16_t</span>      e_type<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint16_t</span>      e_machine<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint32_t</span>      e_version<span class=\"token punctuation\">;</span>\n               ElfN_Addr     e_entry<span class=\"token punctuation\">;</span>\n               ElfN_Off      e_phoff<span class=\"token punctuation\">;</span>\n               ElfN_Off      e_shoff<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint32_t</span>      e_flags<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint16_t</span>      e_ehsize<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint16_t</span>      e_phentsize<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint16_t</span>      e_phnum<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint16_t</span>      e_shentsize<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint16_t</span>      e_shnum<span class=\"token punctuation\">;</span>\n               <span class=\"token class-name\">uint16_t</span>      e_shstrndx<span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">}</span> ElfN_Ehdr<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"table-of-contents\">\n<ul>\n<li><a href=\"#et_noneelf-type-none\">ET_NONE(ELF type none)</a></li>\n<li><a href=\"#et_relelf-type-relocatable\">ET_REL(ELF Type relocatable)</a></li>\n<li><a href=\"#et_execelf-executable\">ET_EXEC(ELF executable)</a></li>\n<li><a href=\"#et_dynelf-type-dynamic\">ET_DYN(ELF type dynamic)</a></li>\n<li><a href=\"#et_coreelf-type-core\">ET_CORE(ELF type core)</a></li>\n<li><a href=\"#elf-%ED%8C%8C%EC%9D%BC-%ED%97%A4%EB%8D%94\">ELF 파일 헤더</a></li>\n</ul>\n</div>","frontmatter":{"date":"August 16, 2020","title":"ELF 파일 형식 (ELF file format)","categories":"AnalyzingBinaries","author":"Zer0Luck","emoji":"🧨"},"fields":{"slug":"/elf_device_file2/2020-08-16-ELF-file-format/"}},"site":{"siteMetadata":{"siteUrl":"https://zer0luck.kr","comments":{"utterances":{"repo":"dnsdudrla97/dnsdudrla97.github.io"}}}}},"pageContext":{"slug":"/elf_device_file3/","nextSlug":"/elf_device_file1/","prevSlug":"/elf_device_file2/2020-08-16-ELF-file-format/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}