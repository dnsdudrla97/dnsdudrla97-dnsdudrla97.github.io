{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Metasploit2_theori/",
    "result": {"data":{"cur":{"id":"5120120f-356d-5486-9940-cf7076460a85","html":"<h1 id=\"metasploit-아키텍처\" style=\"position:relative;\"><a href=\"#metasploit-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-label=\"metasploit 아키텍처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Metasploit 아키텍처</h1>\n<p>Metasploit은 Ruby로 작성되었으며 수년 동안 개발되었다. 언뜻보기에 프로젝트의 규모는 어려울 수 있지만 아키텍처를 깊게는 파고들 필요가 없다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.22222222222223%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAADEUlEQVQozxXL608SAQAA8PvX2lqrRDNdm7bS6GHRexZkmoUVoLxUHvIQMiCedxyPTjjOA3lJgHIgcQd33ImvCuayrFUfWqu1/b7+AMGU5pnGJjN7LP6Y4KWxW/D87P3p4yPPZAaHNxQZHhWfujfDU0aGXPRj7PBpcEeZOcIO/iqJn3PEL0Bu8aLpYiSRK5RrU3rn1aGxwVEFTzTXL1SduTPVe1/aLRg/d33s2l31rfnEeHjvAXZoTbcDmZYw+RXoHdOdnTSeFGm7RHNGb+y11m12Y3o4o3ZiksWgDkzpwKTJBFpdUZENv+4seYtcKF7JrhG2LAP0TJj7RQvnhIbbjzQL8LpZH9W+qajCOwsIp0c4LcKYvCWdY8MS353U+ARSa/PjV6ZzdPDrT67ZAXrE9qEJ68D40ohIHwgXPCnGjpWheNa1QqkhKpja9MVyjrf5BNEY1/lGHkrLVIto7rOdozx3AMidqAdNO/HCsMrnX635Vyk4VYrkC940p4bJSHEHTDWgdAMnPoht6M0pY7XGVNg9+tO3zd3PgNASlTljEvfqxdkAttHIUa0i+6nItt+RbHK9XKxvbdDb2SqzVm0YQu/uShxVkqlxe0zne2nnM3BSGjwhDR+TIudVIQtCSOxZNVQ1RJqaEDkLbepClDZIKsCKA65IDWGBAiQp7j29xf7Ph8AZZZQ3v3LhOXj7sdmTqLliNTded+N1F173JGhfsrmEsa9QGi1sv3QmrsicGaKRLFTyzc4aewB0q9H/psMDCghOlj1owZ+oQBlmubQPJt/DOTZQaAXyW2jlg6e42yuH+6S+viemaxBjJ38C3Sq0R4F0yYIDErsRLs54SQXEKOGmFmmpg5wcomeDnBJmNQF6MbXNX8p1vfDyxI7R+Bcz+RvokiM8GXxa/KbvgcLqxxeXCSta9aVpT5pdXCbscdKeqFsxEkxRxlVm0Jg6PWnrn1+ZJn6bNn8AfH3skubtpWkHf2zm8gsz35JRZNtu6vtT/OMNa1K11hbHtp9EOSGyNbnM8BewYRU8gbfdzB/txtE/YSAG+o1dXaAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./MSF_ACT.png\"\n        title=\"./MSF_ACT.png\"\n        src=\"/static/51ac68ad0b4b8363ccac8cde980111b2/37523/MSF_ACT.png\"\n        srcset=\"/static/51ac68ad0b4b8363ccac8cde980111b2/e9ff0/MSF_ACT.png 180w,\n/static/51ac68ad0b4b8363ccac8cde980111b2/f21e7/MSF_ACT.png 360w,\n/static/51ac68ad0b4b8363ccac8cde980111b2/37523/MSF_ACT.png 720w,\n/static/51ac68ad0b4b8363ccac8cde980111b2/c6bbc/MSF_ACT.png 910w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>Metasploit 파일 시스템 및 라이브러리에 익숙해지면 좀더 능숙하게 작성할 수 있겠다. Kali Linux에서 Metasploit은 metasploit-framework 패키지로 제공되며 <code class=\"language-text\">/usr/share/metasploit-framework</code> 디렉토리에 설치된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">root<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token comment\"># ls -lt</span>\ntotal <span class=\"token number\">148</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">3</span> root root  <span class=\"token number\">4096</span> May <span class=\"token number\">26</span> <span class=\"token number\">08</span><span class=\"token operator\">:</span><span class=\"token number\">57</span> config\nlrwxrwxrwx  <span class=\"token number\">1</span> root root    <span class=\"token number\">27</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> documentation <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token operator\">..</span><span class=\"token operator\">/</span>doc<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">11</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> tools\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">3</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> vendor\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">6</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> scripts\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> plugins\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">9</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> modules\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">14</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> lib\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">3</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> db\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">21</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> data\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">4</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> app\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root  <span class=\"token number\">9359</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> Gemfile<span class=\"token punctuation\">.</span>lock\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root  <span class=\"token number\">8652</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> metasploit<span class=\"token operator\">-</span>framework<span class=\"token punctuation\">.</span>gemspec\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root  <span class=\"token number\">1263</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msfconsole\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root  <span class=\"token number\">2813</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msfd\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root  <span class=\"token number\">5326</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msfdb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root   <span class=\"token number\">635</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msf<span class=\"token operator\">-</span>json<span class=\"token operator\">-</span>rpc<span class=\"token punctuation\">.</span>ru\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root  <span class=\"token number\">2229</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msfrpc\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root  <span class=\"token number\">9677</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msfrpcd\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root   <span class=\"token number\">166</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msfupdate\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root <span class=\"token number\">12921</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msfvenom\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root   <span class=\"token number\">551</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> msf<span class=\"token operator\">-</span>ws<span class=\"token punctuation\">.</span>ru\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root   <span class=\"token number\">604</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> ruby\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root   <span class=\"token number\">140</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> script<span class=\"token operator\">-</span>exploit\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root   <span class=\"token number\">141</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> script<span class=\"token operator\">-</span>password\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root   <span class=\"token number\">138</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> script<span class=\"token operator\">-</span>recon\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root  <span class=\"token number\">1209</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> Gemfile\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">1</span> root root  <span class=\"token number\">1299</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> Rakefile</code></pre></div>\n<h2 id=\"metasploit-filesystem\" style=\"position:relative;\"><a href=\"#metasploit-filesystem\" aria-label=\"metasploit filesystem permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Metasploit FileSystem</h2>\n<p>MSF 파일 시스템은 직관적 인 방식으로 배치된다.</p>\n<h3 id=\"data\" style=\"position:relative;\"><a href=\"#data\" aria-label=\"data permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data</h3>\n<p>Data 디렉터리는 특정 공격, 단어 목록, 이미지 및 더 필요한 바이너리에 MSF에서 사용하는 편집 가능한 파일이 포함되어 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">oot<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>data<span class=\"token comment\"># ls -lt</span>\ntotal <span class=\"token number\">1172</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> wordlists\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> wmap\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> webcam\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">4</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> templates\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">3</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> sounds\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">3</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> snmp\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">4</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> post\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> php\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> meterpreter\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> msfcrawler\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> passivex\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> logos\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> markdown_doc\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> lab\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> ipwn\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">132</span> root root  <span class=\"token number\">12288</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> exploits\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">2</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> flash_detector\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">3</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> headers\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">10</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> SqlClrPayload\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">1</span> root root     <span class=\"token number\">68</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> eicar<span class=\"token punctuation\">.</span>com\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">1</span> root root    <span class=\"token number\">963</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> eicar<span class=\"token punctuation\">.</span>txt\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">1</span> root root   <span class=\"token number\">1288</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> emailer_config<span class=\"token punctuation\">.</span>yaml\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">1</span> root root  <span class=\"token number\">29548</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> isight<span class=\"token punctuation\">.</span>bundle\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">1</span> root root  <span class=\"token number\">63031</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> john<span class=\"token punctuation\">.</span>conf\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">1</span> root root  <span class=\"token number\">10628</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> mime<span class=\"token punctuation\">.</span>yml\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">1</span> root root <span class=\"token number\">475136</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> vncdll<span class=\"token punctuation\">.</span>x64<span class=\"token punctuation\">.</span>dll\n<span class=\"token operator\">-</span>rwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x   <span class=\"token number\">1</span> root root <span class=\"token number\">401920</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> vncdll<span class=\"token punctuation\">.</span>x86<span class=\"token punctuation\">.</span>dll\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>   <span class=\"token number\">1</span> root root <span class=\"token number\">108964</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> ysoserial_payloads<span class=\"token punctuation\">.</span>json</code></pre></div>\n<h3 id=\"documentation\" style=\"position:relative;\"><a href=\"#documentation\" aria-label=\"documentation permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Documentation</h3>\n<p>Documentation 디렉터리에는 프레임 워크에 사용 가능한 문서가 포함된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">root<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>documentation<span class=\"token comment\"># ls -lt</span>\ntotal <span class=\"token number\">404</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">7</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> modules\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">3</span> root root   <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> api\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root   <span class=\"token number\">7496</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> changelog<span class=\"token punctuation\">.</span>Debian<span class=\"token punctuation\">.</span>gz\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">23006</span> Jan <span class=\"token number\">25</span>  <span class=\"token number\">2019</span> copyright\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root   <span class=\"token number\">2509</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> <span class=\"token constant\">CODE_OF_CONDUCT</span><span class=\"token punctuation\">.</span>md\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root   <span class=\"token number\">2408</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> <span class=\"token constant\">CONTRIBUTING</span><span class=\"token punctuation\">.</span>md<span class=\"token punctuation\">.</span>gz\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root <span class=\"token number\">358142</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> developers_guide<span class=\"token punctuation\">.</span>pdf<span class=\"token punctuation\">.</span>gz\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root   <span class=\"token number\">1597</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> <span class=\"token constant\">README</span><span class=\"token punctuation\">.</span>md</code></pre></div>\n<h3 id=\"lib\" style=\"position:relative;\"><a href=\"#lib\" aria-label=\"lib permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LIB</h3>\n<p>LIB 디렉터리는 프레임 워크 코드 기반의 라이브리들이 포함 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">root<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>lib<span class=\"token comment\"># ls -lt</span>\ntotal <span class=\"token number\">112</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> sqlmap\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> tasks\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> telephony\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> snmp\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">13</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> rex\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> rabal\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> rbmysql\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">4</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> net\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">3</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> postgres\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">7</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> msf\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">3</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> metasploit\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">6</span> root root  <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> anemone\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root   <span class=\"token number\">143</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> anemone<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root  <span class=\"token number\">2217</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> enumerable<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root   <span class=\"token number\">722</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> msfenv<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root   <span class=\"token number\">367</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> postgres_msf<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root <span class=\"token number\">23897</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> rbmysql<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root  <span class=\"token number\">3824</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> rex<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root  <span class=\"token number\">4322</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> robots<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root   <span class=\"token number\">294</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> snmp<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root    <span class=\"token number\">71</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> telephony<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>  <span class=\"token number\">1</span> root root  <span class=\"token number\">1660</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> windows_console_color_support<span class=\"token punctuation\">.</span>rb</code></pre></div>\n<h3 id=\"module\" style=\"position:relative;\"><a href=\"#module\" aria-label=\"module permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Module</h3>\n<p>Module 은 공격, 보조 및 사후 모듈, 페이로드, 인코더, 그리고 Nop, 실제 MSF 모듈을 찾을 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">root<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>modules<span class=\"token comment\"># ls -lt</span>\ntotal <span class=\"token number\">28</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">14</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> post\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">5</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> payloads\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">11</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> nops\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">21</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> exploits\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x  <span class=\"token number\">3</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> evasion\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">12</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> encoders\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">21</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> auxiliary</code></pre></div>\n<h2 id=\"penetration-modules-종류\" style=\"position:relative;\"><a href=\"#penetration-modules-%EC%A2%85%EB%A5%98\" aria-label=\"penetration modules 종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Penetration Modules 종류</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 546px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 19.444444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAwUlEQVQI1z2PSRKCMBREOYqQ5CeanwRRSACVIRSIFE4r738SB6rcvV68ru4gooqCAYYcEAApRcE1BwmAq0iuIhkSDAkuQJgmTFMwCwQgttY1t6G/9e25rn3VHLLsce4m36bZKXO1MlbHLrVVnJQhQbFJlHFLUbCW+7z0w/gcLs/5/ur6K5r8WI9NNw/j3RVtUfrWTzZvpEpDosRmZ7b5X/4GZWx57IqDBxET0JRpBoYy/T3FNOPxMp78mK+TiKqP/AbK4y4K0pNOBwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./MSF_MODULE.png\"\n        title=\"./MSF_MODULE.png\"\n        src=\"/static/1048b97a0b4ec667b129a7e40ca2f220/76aed/MSF_MODULE.png\"\n        srcset=\"/static/1048b97a0b4ec667b129a7e40ca2f220/e9ff0/MSF_MODULE.png 180w,\n/static/1048b97a0b4ec667b129a7e40ca2f220/f21e7/MSF_MODULE.png 360w,\n/static/1048b97a0b4ec667b129a7e40ca2f220/76aed/MSF_MODULE.png 546w\"\n        sizes=\"(max-width: 546px) 100vw, 546px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>Penetration Modules\n<ol>\n<li>exploits\n<ol>\n<li>악의적인 취약점을 유발하는 실제 코드 조각</li>\n<li>Exploit 모듈은 페이로드를 사용하는 모듈로 정의</li>\n</ol>\n</li>\n<li>auxiliary\n<ol>\n<li>대상 네트워크에 정보 수집, 데이터베이스 핑거 프린팅, 포트 스캔 및 배너 정보 수집 같은 특정 작업을 수행하는 보조 모듈</li>\n<li>포트 스캐너, 퍼저, 스니퍼 등 정보 수집</li>\n</ol>\n</li>\n<li>payloads\n<ol>\n<li>페이로드는 공격 후 대상 시스템에 연결하거나 대상 서버에 서비스 설치와 같은 특정 작업 등을 수행하는데 사용된다.</li>\n<li>원격으로 실행 되는 코드로 구성</li>\n</ol>\n</li>\n<li>encoders\n<ol>\n<li>인코더는 페이로드 및 공격 벡터를 인코딩하여 바이러스 탐지 솔루션 또는 방화벽으로 탐지를 피하는 데 사용된다.</li>\n</ol>\n</li>\n<li>nops\n<ol>\n<li>Nop 생성기는 공격이 안정적으로 진행되는데 사용된다.</li>\n<li>Nop Opcode 와 동일하다</li>\n<li>Nops 는 Exploit 시도에서 페이로드 크기를 일관되게 유지 한다.</li>\n</ol>\n</li>\n<li>evasion\n<ol>\n<li>우회 가능, 인코더의 좀더 강화된 기능</li>\n</ol>\n</li>\n<li>피해자 PC를 장악을 한 후 추가적인 기능을 통해 정보를 가져오는 기능들</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"msfconsole-내에서-외부-모듈을-불러-올-수-있다\" style=\"position:relative;\"><a href=\"#msfconsole-%EB%82%B4%EC%97%90%EC%84%9C-%EC%99%B8%EB%B6%80-%EB%AA%A8%EB%93%88%EC%9D%84-%EB%B6%88%EB%9F%AC-%EC%98%AC-%EC%88%98-%EC%9E%88%EB%8B%A4\" aria-label=\"msfconsole 내에서 외부 모듈을 불러 올 수 있다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>msfconsole 내에서 외부 모듈을 불러 올 수 있다.</h3>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">msf <span class=\"token operator\">></span> loadpath\n<span class=\"token symbol\">Usage</span><span class=\"token operator\">:</span> loadpath <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>path<span class=\"token operator\">/</span>to<span class=\"token operator\">/</span>modules<span class=\"token operator\">></span>\n\nLoads modules from the given directory which should contain subdirectories <span class=\"token keyword\">for</span>\n<span class=\"token keyword\">module</span> <span class=\"token class-name\">types</span><span class=\"token punctuation\">,</span> e<span class=\"token punctuation\">.</span>g<span class=\"token punctuation\">.</span> <span class=\"token operator\">/</span>path<span class=\"token operator\">/</span>to<span class=\"token operator\">/</span>modules<span class=\"token operator\">/</span>exploits\n\nmsf <span class=\"token operator\">></span> loadpath <span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token regex-literal\"><span class=\"token regex\">/modules/</span></span>\nLoaded <span class=\"token number\">399</span> modules<span class=\"token operator\">:</span>\n    <span class=\"token number\">399</span> payloads</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">msf5 <span class=\"token operator\">></span> load \nload aggregator        load db_tracker        load lab               load nexpose           load sample            load sqlmap            load wmap\nload <span class=\"token keyword\">alias</span>             load event_tester      load libnotify         load openvas           load session_notifier  load thread            \nload auto_add_route    load ffautoregen       load msfd              load pcap_log          load session_tagger    load token_adduser     \nload beholder          load ips_filter        load msgrpc            load request           load socket_logger     load token_hunter      \nload db_credcollect    load komand            load nessus            load rssfeed           load sounds            load wiki</code></pre></div>\n<h3 id=\"plugins\" style=\"position:relative;\"><a href=\"#plugins\" aria-label=\"plugins permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugins</h3>\n<p>외부 플러그인들의 집합체</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">root<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>modules<span class=\"token comment\"># cd ../plugins/</span>\nroot<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>plugins<span class=\"token comment\"># ls -lt</span>\ntotal <span class=\"token number\">392</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root <span class=\"token number\">16977</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> aggregator<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root <span class=\"token number\">12581</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> <span class=\"token keyword\">alias</span><span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">1052</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> auto_add_route<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">9515</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> beholder<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">2726</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> db_credcollect<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">1655</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> db_tracker<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">1119</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> event_tester<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">2213</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> ffautoregen<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">2456</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> ips_filter<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root  <span class=\"token number\">4841</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> komand<span class=\"token punctuation\">.</span>rb\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span>r<span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> root root <span class=\"token number\">16815</span> Jan <span class=\"token number\">24</span>  <span class=\"token number\">2019</span> lab<span class=\"token punctuation\">.</span>rb</code></pre></div>\n<h3 id=\"scripts\" style=\"position:relative;\"><a href=\"#scripts\" aria-label=\"scripts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Scripts</h3>\n<p>Meterpreter과 다른 스크립트가 포함된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">root<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>scripts<span class=\"token comment\"># ls -lt</span>\ntotal <span class=\"token number\">16</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> meterpreter\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> ps\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> resource\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> shell</code></pre></div>\n<h3 id=\"tools\" style=\"position:relative;\"><a href=\"#tools\" aria-label=\"tools permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>tools</h3>\n<p>Tools 디렉터리는 여러 가지 유용한 명령 줄 유틸리티가 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">root<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>scripts<span class=\"token comment\"># cd ../tools/</span>\nroot<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>tools<span class=\"token comment\"># ls -lt</span>\ntotal <span class=\"token number\">36</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> modules\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> password\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">3</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> payloads\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> recon\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> memdump\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> exploit\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> hardware\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> dev\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span> Feb <span class=\"token number\">11</span>  <span class=\"token number\">2019</span> context</code></pre></div>\n<h1 id=\"주요-metasploit-framework-경로\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9A%94-metasploit-framework-%EA%B2%BD%EB%A1%9C\" aria-label=\"주요 metasploit framework 경로 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주요 metasploit framework 경로</h1>\n<p>lib, modules, plugin, tools, scripts등 중요한 기능들이 저장되있다.</p>\n<ul>\n<li><strong>주요 디렉터리 파일 구조</strong>\n<ul>\n<li>\n<p>lib</p>\n<ol>\n<li>Metasploit의 심장. MSF 모듈을 빌드하는 데 도움이 되는 모든 필수 라이브러리 파일이 포함된다.</li>\n</ol>\n</li>\n<li>\n<p>module</p>\n<ol>\n<li>모든 Metasploit 모듈이 이 디렉토리에 있다. 스캐너 부터 심화 개발 모듈에 이르기까지 Metasploit 프로젝트에 통합된 모든 모듈을 디렉토리에서 찾을 수 있다.</li>\n<li>모듈 정보</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">Zer0Luck@Zer0Luck<span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>modules$ ls\nauxiliary  encoders  evasion  exploits  nops  payloads  post\nZer0Luck@Zer0Luck<span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>modules$ cd exploits<span class=\"token operator\">/</span>\nZer0Luck@Zer0Luck<span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>modules<span class=\"token operator\">/</span>exploits$ ls\naix      apple_ios  bsdi    example<span class=\"token punctuation\">.</span>rb                 example_webapp<span class=\"token punctuation\">.</span>rb  freebsd  irix   mainframe  netware  osx  solaris  windows\nandroid  bsd        dialup  example_linux_priv_esc<span class=\"token punctuation\">.</span>rb  firefox            hpux     linux  multi      openbsd  qnx  unix\nZer0Luck@Zer0Luck<span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>modules<span class=\"token operator\">/</span>exploits$ cd windows<span class=\"token operator\">/</span>\nZer0Luck@Zer0Luck<span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>modules<span class=\"token operator\">/</span>exploits<span class=\"token operator\">/</span>windows$ ls <span class=\"token operator\">-</span>lt\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">16384</span>  <span class=\"token number\">5</span>월  <span class=\"token number\">2</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">35</span> http\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span>  <span class=\"token number\">5</span>월  <span class=\"token number\">2</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">35</span> ibm\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root  <span class=\"token number\">4096</span>  <span class=\"token number\">5</span>월  <span class=\"token number\">2</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">35</span> iis\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n</li>\n<li>\n<p>tools</p>\n<ol>\n<li>침투 테스트를 지원하는 명령 유틸리티가 이 폴더에 포함</li>\n<li>패턴 생성에서 성공적인 Exploit 코드 작성을 위한 JMP ESP 주소 찾기에 이르기 까지 필요한 모든 명령 줄 유틸리티가 포함된다.</li>\n</ol>\n</li>\n<li>\n<p>plugin</p>\n<ol>\n<li>Metasploit의 기능을 확장하는 모든 플러그인이 이 폴더에 저장.</li>\n<li>표준 플러그인은 OpenVAS, Nexpose, Nessus 등  load 명령을 사용하여 메타스폴로잇 프레임워크에서 사용 가능</li>\n</ol>\n</li>\n<li>\n<p>script</p>\n<ol>\n<li>이 디렉토리에는 Meterpreter와 기타 다양한 스크립트가 포함된다.</li>\n<li>post 단계에서 사용됨 (PC에서 추가적인 정보를 얻는데 사용된다.)</li>\n<li>script 디렉터리</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">Zer0Luck@Zer0Luck<span class=\"token operator\">:</span><span class=\"token operator\">/</span>usr<span class=\"token operator\">/</span>share<span class=\"token operator\">/</span>metasploit<span class=\"token operator\">-</span>framework<span class=\"token operator\">/</span>scripts$ ls <span class=\"token operator\">-</span>lt\n합계 <span class=\"token number\">16</span>\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span>  <span class=\"token number\">5</span>월  <span class=\"token number\">2</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">35</span> meterpreter\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span>  <span class=\"token number\">5</span>월  <span class=\"token number\">2</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">35</span> ps\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span>  <span class=\"token number\">5</span>월  <span class=\"token number\">2</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">35</span> resource\ndrwxr<span class=\"token operator\">-</span>xr<span class=\"token operator\">-</span>x <span class=\"token number\">2</span> root root <span class=\"token number\">4096</span>  <span class=\"token number\">5</span>월  <span class=\"token number\">2</span> <span class=\"token number\">06</span><span class=\"token operator\">:</span><span class=\"token number\">35</span> shell</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#metasploit-filesystem\">Metasploit FileSystem</a></p>\n<ul>\n<li><a href=\"#data\">Data</a></li>\n<li><a href=\"#documentation\">Documentation</a></li>\n<li><a href=\"#lib\">LIB</a></li>\n<li><a href=\"#module\">Module</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#penetration-modules-%EC%A2%85%EB%A5%98\">Penetration Modules 종류</a></p>\n<ul>\n<li><a href=\"#msfconsole-%EB%82%B4%EC%97%90%EC%84%9C-%EC%99%B8%EB%B6%80-%EB%AA%A8%EB%93%88%EC%9D%84-%EB%B6%88%EB%9F%AC-%EC%98%AC-%EC%88%98-%EC%9E%88%EB%8B%A4\">msfconsole 내에서 외부 모듈을 불러 올 수 있다.</a></li>\n<li><a href=\"#plugins\">Plugins</a></li>\n<li><a href=\"#scripts\">Scripts</a></li>\n<li><a href=\"#tools\">tools</a></li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"Metasploit 아키텍처 Metasploit은 Ruby로 작성되었으며 수년 동안 개발되었다. 언뜻보기에 프로젝트의 규모는 어려울 수 있지만 아키텍처를 깊게는 파고들 필요가 없다.  Metasploit 파일 시스템 및 라이브러리에 익숙해지면 좀더 능숙하게 작성할 수 있겠다. Kali Linux에서 Metasploit은 metasploit-framework 패키지로 제공되며  디렉토리에 설치된다. Metasploit FileSystem MSF 파일 시스템은 직관적 인 방식으로 배치된다. Data Data 디렉터리는 특정 공격, 단어 목록, 이미지 및 더 필요한 바이너리에 MSF에서 사용하는 편집 가능한 파일이 포함되어 있다. Documentation Documentation 디렉터리에는 프레임 워크에 사용 가능한 문서가 포함된다. LIB LIB 디렉터리는 프레임 워크 코드 기반의 라이브리들이 포함 된다. Module Module 은 공격, 보조 및 사후 모듈, 페이로드, 인코더, …","frontmatter":{"date":"June 05, 2020","title":"Metasploit 아키텍처 및 파일 시스템 구조 이해","categories":"Tools","author":"Zer0Luck","emoji":null},"fields":{"slug":"/Metasploit2_theori/"}},"next":{"id":"a75e77fd-d625-5882-83ff-947acfb7d3cb","html":"<h1 id=\"윈도우-실행-파일-구조\" style=\"position:relative;\"><a href=\"#%EC%9C%88%EB%8F%84%EC%9A%B0-%EC%8B%A4%ED%96%89-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%A1%B0\" aria-label=\"윈도우 실행 파일 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>윈도우 실행 파일 구조</h1>\n<h2 id=\"pe-파일-portable-excutable\" style=\"position:relative;\"><a href=\"#pe-%ED%8C%8C%EC%9D%BC-portable-excutable\" aria-label=\"pe 파일 portable excutable permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PE 파일 (Portable Excutable)</h2>\n<ul>\n<li>다양한 정보를 포함한 커다란 구조체들로 이루어져 있다.</li>\n<li>수만은 테이블과 멤버들을 포함하고 있다.</li>\n</ul>\n<h2 id=\"pe-파일의-종류\" style=\"position:relative;\"><a href=\"#pe-%ED%8C%8C%EC%9D%BC%EC%9D%98-%EC%A2%85%EB%A5%98\" aria-label=\"pe 파일의 종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PE 파일의 종류</h2>\n<table>\n<thead>\n<tr>\n<th>종류</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>EXE</td>\n<td>실행파일</td>\n</tr>\n<tr>\n<td>SCR</td>\n<td>실행파일 (화면 보호기)</td>\n</tr>\n<tr>\n<td>DLL</td>\n<td>라이브러리</td>\n</tr>\n<tr>\n<td>OCX</td>\n<td>라이브러리 (ActivieX)</td>\n</tr>\n<tr>\n<td>SYS</td>\n<td>시스템 드라이버</td>\n</tr>\n<tr>\n<td>OBJ</td>\n<td>오브젝트 파일</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>SCR 파일이 실행 파일임을 인지 하지 못한채 악성 코드로 동작하게 되어 피해가 발생한 경우가 다수</li>\n<li>첫 바이트 부터 시작된다. PE 파일은 파일에 존재할 때의 구조와 메모리에 로드된 후의 모습이 달라진다.</li>\n<li>파일에서는 첫 바이트부터의 거리를 offset을 사용한다.</li>\n<li>메모리에서는 VA(Virtual Address), RVA(Relative Virtual Address, 상대적 가상 주소)</li>\n<li>고정 주소 대신 상대 주소를 사용하는 이유는 해당 PE 파일이 메모리에 로드 될 때 한 주소에 고정적으로 로딩되는 것이 아니기 떄문이다.</li>\n<li>메모리에 로드된 후에 조금 사이즈가 커진 것을 볼 수 있다. 일반 적으로 File Alignment 값 보다 Section Alignment 값이 더 크기 때문이다.</li>\n<li>Alignment란 여러 가지 내부 연산 등 처리상의 효율성을 위해 특정 단위로 간격을 맞춰주는 것을 의미  한다.</li>\n<li>섹션이 파일 상태에서는 사이즈가 0이지만 메모리에 로드된 후에는 용량이 커지는 경우도 존재</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.22222222222221%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACl0lEQVQoz32S3VNSQRjG/Y+67Y/orhonZzLNIi0bTRsZU3RyRAw5EqST3jRjN1aKpZXZGIqoOHWTIBhqCYgI5wic7/06H9sQk40O9l7tPvv+5nn23a2ifwsAwLEcS4RNdjdaTHBK0TRMSqlOjejxr41EeE/OZNmcLMmUUtMsHVWdrERRZDM5Zt9X/d1xNeyY3lumpKTnULE2wtRsOhuinp+pfUkQK8GSyB7lvMnZWxFPfdS9kP5KjVKiHOYtW96mrZH722Pp7KEiK6fgciGMsQpdCV9tmLkcGXifCmkKMnUjh/m6yPCNMFMXdRcknmBygvyDIYSKKI8m5xoj3pqI82MqRGRo6gaLhXvREUvEcyfq5fg8RvgUXM6gAlUqCoMHM1diQ5e2HbPpENVLHVnEX9sero4x1+OeXIFDAFaIXd5Phn39iy7bomNlN1TW85DvWmW6Ak5b6CnSS7YmNc/GBgAIkhR/N+kferTu6g5/WRAVFWAsJw9IkxVZ2vW2XkpI2ecsrJsGNakt/ebClvXijx5fao1IAEKUyh+2Bh2WpZ7OIMMVOPif2C/jc80r9gfrzkDyW1kXkGTzD7bNd/f5h7BBKseGAEiKGp2e+OxoX7a3xwKLgqyoCMmJFLzdBm+2ouZOhRewVumpDNOgBh2PTDWs9jWGBuZ3gsVcHgJ4WMxa15iWZXtX0F2UeI1UghFCsgpiUxP+wY7gQMfO6hLABBFCOI5rfZi925K3dpvnDszQDc14Hn5dt9Jbv/74QzyAJAAROsgkR2bszKveMZ+TPWZBxYERjFWEjny+Xbdrn3FmNjb+/BGqCoX5Z7a3wx2fxvo07RxnTdMABBTrVMFUxQRAw9BLXbxIn4zT/lHqfsHn8wDCkzv/BmrsP9RObCXvAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"pe_main_change.png\"\n        title=\"pe_main_change.png\"\n        src=\"/static/da95da3fe4251e29e7b0629a8372ba96/37523/dnsdudrla97_pe_main_change.png\"\n        srcset=\"/static/da95da3fe4251e29e7b0629a8372ba96/e9ff0/dnsdudrla97_pe_main_change.png 180w,\n/static/da95da3fe4251e29e7b0629a8372ba96/f21e7/dnsdudrla97_pe_main_change.png 360w,\n/static/da95da3fe4251e29e7b0629a8372ba96/37523/dnsdudrla97_pe_main_change.png 720w,\n/static/da95da3fe4251e29e7b0629a8372ba96/302a4/dnsdudrla97_pe_main_change.png 1080w,\n/static/da95da3fe4251e29e7b0629a8372ba96/129e9/dnsdudrla97_pe_main_change.png 1161w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 id=\"calcexe-pe-구조-분석\" style=\"position:relative;\"><a href=\"#calcexe-pe-%EA%B5%AC%EC%A1%B0-%EB%B6%84%EC%84%9D\" aria-label=\"calcexe pe 구조 분석 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Calc.exe PE 구조 분석</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVQ4y42SW2/TQBCF/eNpSUJLo5RKPICgoknj9AkJXhGCX0DV1nux9+LdnV07WRuapGkoicEpSFyCkqN5/XTmzJzg9Zu3x93Bs+PB0+fdnVb7QeNgp9mup9XebbUbe53W4yeNvU5jv9PcP2zuHz46OHrZPfvw7uPR7sPg/YXI82xYTm/vlsvFovpTs5vZaORns9vp9GYynoyGfjKZlkU5mc5evOoGGDN0FUnOv92t6N9UVZVW6vzTueACR4ggwrngCYsuozzLe91ewOLk6jK6OL8QQi4Wy7+cM+cIJs5awYWUqXNOax3TuCzKMBwEFFOEiBTS+6L6R5l1KMIWLGdMSgVgtVJxHI+Go17vNEAIA0D1HzlroysEBlicSJlaa5VSnLE8z09OusHX+Xx+O1+utA520WUNc8YElwCglIoJLYvP/XAQVFW1FrtXnmUEUwtOciGFBGPBGIppWX4JB5vgzDlKYqNNnVlIC9asDuZ9sdk5cxkhFODn2hasThXBxPsi3Azb+lXW1tfmTNSw0pRQP/Kn/XAD7KwjiFjrBBOCC2sdaBNjWhTlVplrZ6hLUl/bABhIaFL4sr/N2hjVJRGMyxWslSYIe+/7YbjZGSFsjGFJnRkMGKUopr4owsHZVs5aaZZwwQUYo2RKyCrzxrXv66lSxRmXMlVKpzL99ecwKH0xvr6ejMdrZ5hlKk2N1jpVoI3R2midOzcdj390+ztkUNBlieElhwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"PE_pe_view_calc.png\"\n        title=\"PE_pe_view_calc.png\"\n        src=\"/static/d84fcbdd69ef2240761825835e1b151b/37523/PE_pe_view_calc.png\"\n        srcset=\"/static/d84fcbdd69ef2240761825835e1b151b/e9ff0/PE_pe_view_calc.png 180w,\n/static/d84fcbdd69ef2240761825835e1b151b/f21e7/PE_pe_view_calc.png 360w,\n/static/d84fcbdd69ef2240761825835e1b151b/37523/PE_pe_view_calc.png 720w,\n/static/d84fcbdd69ef2240761825835e1b151b/302a4/PE_pe_view_calc.png 1080w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"image_dos_header-dos-stub\" style=\"position:relative;\"><a href=\"#image_dos_header-dos-stub\" aria-label=\"image_dos_header dos stub permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Image_DOS_HEADER, DOS Stub</h3>\n<ul>\n<li>PE 포맷의 시작 부분에 위차한 40바이트의 구조체인 DOS Header, Stub는 Windwos가 아닌 DOS 운영체제를 위한 것</li>\n<li>DOS에서 PE 파일이 실행되는 경우를 위해 만들어진 헤더</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">typedef</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_IMAGE_DOS_HEADER</span> <span class=\"token punctuation\">{</span>              <span class=\"token comment\">// DOS header</span>\n        WORD    e_magic<span class=\"token punctuation\">;</span>                        <span class=\"token comment\">// Magic number</span>\n        WORD    e_cblp<span class=\"token punctuation\">;</span>\n        WORD    e_cp<span class=\"token punctuation\">;</span>\n        WORD    e_crlc<span class=\"token punctuation\">;</span>                         <span class=\"token comment\">// Relocations</span>\n                                                <span class=\"token comment\">// ...</span>\n        WORD    e_res2<span class=\"token punctuation\">[</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>                     <span class=\"token comment\">// Reserved words</span>\n        LONG    e<span class=\"token operator\">-</span>lfanew<span class=\"token punctuation\">;</span>                       <span class=\"token comment\">// File address of new exe header</span>\n<span class=\"token punctuation\">}</span> IMAGE_DOS_HEADER<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>PIMAGE_DOS_HEADER          <span class=\"token comment\">// winNT.h</span></code></pre></div>\n<ul>\n<li>e_magic, e_lfanew 를 주로 사용하는 구조체 멤버이며 나머지 멤버들은 현재로 서 DOS를 자주 사용하지 않기 때문에 빈도가 적다.</li>\n</ul>\n<p><strong>e_magic</strong></p>\n<ul>\n<li>파일 시그니처라 생각 하면되고 이 파일이 PE 파일임을 나타내주는 첫 2개의 바이트로 , MZ(5A4D)로 고정 되어 있다.</li>\n<li>첫 2바이트가 MZ가 아니면 로더는 해당 파일을 PE로 인식하지 않는다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 623px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.666666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAASElEQVQI1wE9AML/ALTP7KfK7qTM9Z3H8qHH7J/J9KXH6pjB6pnG9ZzI9ZzI9ZvI9qLK86TH66nP9a3R9a/S9a7R9aXN9pvI9ZtSL3HT398FAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_pe_e_magic.png\"\n        title=\"./PE_pe_e_magic.png\"\n        src=\"/static/84eee1abbeee65e97e9ff08954fb200d/6114d/PE_pe_e_magic.png\"\n        srcset=\"/static/84eee1abbeee65e97e9ff08954fb200d/e9ff0/PE_pe_e_magic.png 180w,\n/static/84eee1abbeee65e97e9ff08954fb200d/f21e7/PE_pe_e_magic.png 360w,\n/static/84eee1abbeee65e97e9ff08954fb200d/6114d/PE_pe_e_magic.png 623w\"\n        sizes=\"(max-width: 623px) 100vw, 623px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><strong>e_lfanew</strong></p>\n<ul>\n<li>NT Header가 시작되는 오프셋을 나타낸다.</li>\n<li>calc.exe에서는 다음과 같이 NT Header까지의 Offset을 나타낸다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 549px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVQI1wF6AIX/AO3v8Zi84pS335S33ZLB8KLP+5zA5pu95KLN+ZK54oqw2ZG65abQ+qnQ96fP+KrR+J7L+JbH+JfI+JfI+ADs7vCtzu+73P+62vyn0Pmoz/e42fq72/uq0fiz2Pu52v2y1vuy1fix1fiv0/i32Piq0fiizPijzfijzfiWuGCHkRsaHgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_pe_e_lfanew.png\"\n        title=\"./PE_pe_e_lfanew.png\"\n        src=\"/static/e0e5e57e58ec5ed1cbd16a83f6811ed6/928ea/PE_pe_e_lfanew.png\"\n        srcset=\"/static/e0e5e57e58ec5ed1cbd16a83f6811ed6/e9ff0/PE_pe_e_lfanew.png 180w,\n/static/e0e5e57e58ec5ed1cbd16a83f6811ed6/f21e7/PE_pe_e_lfanew.png 360w,\n/static/e0e5e57e58ec5ed1cbd16a83f6811ed6/928ea/PE_pe_e_lfanew.png 549w\"\n        sizes=\"(max-width: 549px) 100vw, 549px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 670px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.222222222222221%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAUElEQVQI133LsQ2AIBAFUPbfgxXspTEkFsSOYEyOU09AG2v5sgGvf+ouOXj/5CQ7JzkB/F0VWEOwk42R1VFePW7akDY0zPzV2s8AiMi5ReRq0P5wchpY0bIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_pe_e_nt_header.png\"\n        title=\"./PE_pe_e_nt_header.png\"\n        src=\"/static/befefb8a28103889e40bae980f9feba9/d67fd/PE_pe_e_nt_header.png\"\n        srcset=\"/static/befefb8a28103889e40bae980f9feba9/e9ff0/PE_pe_e_nt_header.png 180w,\n/static/befefb8a28103889e40bae980f9feba9/f21e7/PE_pe_e_nt_header.png 360w,\n/static/befefb8a28103889e40bae980f9feba9/d67fd/PE_pe_e_nt_header.png 670w\"\n        sizes=\"(max-width: 670px) 100vw, 670px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"dos-stub\" style=\"position:relative;\"><a href=\"#dos-stub\" aria-label=\"dos stub permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DOS Stub</h3>\n<ul>\n<li>DOS Header 바로 아래 위차하며 대부분의 PE 파일에 존자해지만 없어도 실행에 아무 지장 없는 DOS 용 실행 코드</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 606px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.555555555555554%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABFUlEQVQY0x3OSU7DQBBAUd//ViGwIoOEQCQ9VE9VPbrbNnYSL6IIyAG+3u9Ayt37wRorJXAmOOPszBnjziFIYIxLqUCCENJZN89LqzXnkmIk8p1H3O+POWdC8kSE6BwiYSnFWauUQodGG6NNirnv++BDydlZV/vaaYDt5o3Ic8YBlGBMKc1OZ0Sy2nDGBRcglRTCGotE0zTdbrd1Xe/3e5d8+Pz4qn2NMRISOiqlEFLOpdZK5Amp5OzJpxjbMMzzvD7rx+PROWsPu2NKyVpjjAEJ3gerTQxJKyW40ACIpJTWoL2P18uSYkDy/7Jg/GXzio6eh5KdTiAV+z6HEKdxrLW1WsdhbK0NbRjH8Xq9LMsy/8x/8i8dFEGg6Y8a4QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_dos_stub.png\"\n        title=\"./PE_dos_stub.png\"\n        src=\"/static/0fb7553928b8dbe67165b8be7fca2f3e/4d4a2/PE_dos_stub.png\"\n        srcset=\"/static/0fb7553928b8dbe67165b8be7fca2f3e/e9ff0/PE_dos_stub.png 180w,\n/static/0fb7553928b8dbe67165b8be7fca2f3e/f21e7/PE_dos_stub.png 360w,\n/static/0fb7553928b8dbe67165b8be7fca2f3e/4d4a2/PE_dos_stub.png 606w\"\n        sizes=\"(max-width: 606px) 100vw, 606px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>이 부분의 코드는 16비트 코드로 32비트 윈도우에는 실행 조차 되지 않는다. 위의 문자열에서도 보이듯이 단지 DOS에서는 실행 불가능하다는 메시지를 출력하기 위한 코드</li>\n</ul>\n<h3 id=\"image_nt_headers\" style=\"position:relative;\"><a href=\"#image_nt_headers\" aria-label=\"image_nt_headers permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IMAGE_NT_HEADERS</h3>\n<ul>\n<li>NT 헤더임을 나타내는 시그니처 “P E 0 0 ” 4바이트를 시작으로 FileHeader, OptionalHeader를 멤버로 가지는 구조체이다.</li>\n</ul>\n<p>IMAGE_NT_HEADERS32</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">typedef</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_IMAGE_NT_HEADERS</span> <span class=\"token punctuation\">{</span>\n        DWORD Signature<span class=\"token punctuation\">;</span>\n        IMAGE_FILE_HEADER FileHeader<span class=\"token punctuation\">;</span>\n        IMAGE_OPTIONAL_HEADER32 OptionalHeader<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> IMAGE_NT_HEADERS32<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>PIMAGE_NT_HEADERS32<span class=\"token punctuation\">;</span></code></pre></div>\n<p>IMAGE_FILE_HEADER</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">typedef</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_IMAGE_FILE_HEADER</span> <span class=\"token punctuation\">{</span>\n        WORD            Machine<span class=\"token punctuation\">;</span>\n        WORD            NumberOfSections<span class=\"token punctuation\">;</span>\n        DWORD           TimeDataStamp<span class=\"token punctuation\">;</span>\n        DWORD           PointerToSymbolTable<span class=\"token punctuation\">;</span>\n        WORD            SizeOptionalHeader<span class=\"token punctuation\">;</span>\n        WORD            Characteristics<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> IMAGE_FILE_HEADER<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>PIMAGE_FILE_HEADER<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Machine</strong></p>\n<ul>\n<li><strong>파일의 실행 대상 플랫폼을 나타낸다.</strong></li>\n<li>Machine을 나타내는 상수값 역시 WinNT.h에 정의되어 있다. 일반적으로 접근하게 될 파일들은 대부분 Intel3836, Intel64, ARM 등</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">IMAGE_FILE_UKNOWN</span>               <span class=\"token comment\">// 0</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">IMAGE_FILE_MACHINE_I386</span>         <span class=\"token comment\">// 0x014c Intel 386</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">IMAGE_FILE_MACHINE_R3000</span>        <span class=\"token comment\">// 0x0162 MIPS</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">IMAGE_FILE_MACHINE_ARM</span>          <span class=\"token comment\">// 0x01c0 ARM</span></span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">IMAGE_FILE_MACHINE_IA64</span>         <span class=\"token comment\">// 0x0200 Intel 64</span></span></code></pre></div>\n<p><strong>NumberOfSections</strong></p>\n<ul>\n<li>파일에 존재하느 섹션의 수</li>\n<li>섹션은 파일에 따라 갯수가 달라질 수 있기 때문에 이를 알려 주기 위함이다.</li>\n</ul>\n<p>SizeOFOptionalHeader는 바로 이어지는 Optional Header의 크기를 알려준다.</p>\n<p><strong>Characteristics</strong></p>\n<ul>\n<li>PE 파일의 특성을 알려주며 이 부분을 통해 DLL 인지, 실행 파일인지 알 수 있다.</li>\n<li>최종 값은 해당되는 속성들의 OR값으로 표시된다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">IMAGE_FILE_EXECUTABLE_IMAGE</span>             <span class=\"token expression\"><span class=\"token number\">0x0002</span></span></span>\n<span class=\"token comment\">// File is executable</span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">IMAGE_FILE_32BIT_MACHINE</span>                <span class=\"token expression\"><span class=\"token number\">0x0100</span></span></span>\n<span class=\"token comment\">// 32 bit word machine.</span>\n<span class=\"token macro property\"><span class=\"token directive-hash\">#</span><span class=\"token directive keyword\">define</span> <span class=\"token macro-name\">IMAGE_FILE_DLL</span>                          <span class=\"token expression\"><span class=\"token number\">0x2000</span></span></span>\n<span class=\"token comment\">// File is a DLL</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 564px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsTAAALEwEAmpwYAAABCUlEQVQY03WPXW+CMBiF+f//ai4xmRSQZWxgZnEU2krrx8R+Sn0XJLv0uXouTnLOibI04/seAGpcG2MZZXgSE8YQQgCAMAbSkK6j/V6QpiFN2+yaw+EIANHyddlRZo3J1zlnvCXkPc83ZZWv8+NxStzvQQophJBSSiGkkJfLAA+iBKVSyvPplCVZjeuec4xx25Lt9ptSqpQCAK200cZaqx947+E+ES1eFpRyZ238FjPKaNsVxWf1aK7KjVIanhNVZTUfoB11znHGMa7JDzmff7334zgCgLXWOXe73Zy1s3vnr8M1mpeY/z3FR1Hjnfdea+3clFPDNV7FaZKWXxWKUYJStEIJyvAW/wHQjEt2LO+YaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_Characteristics.png\"\n        title=\"./PE_Characteristics.png\"\n        src=\"/static/98f0cb0671d6e898f39eeecefae2bea2/ba4d9/PE_Characteristics.png\"\n        srcset=\"/static/98f0cb0671d6e898f39eeecefae2bea2/e9ff0/PE_Characteristics.png 180w,\n/static/98f0cb0671d6e898f39eeecefae2bea2/f21e7/PE_Characteristics.png 360w,\n/static/98f0cb0671d6e898f39eeecefae2bea2/ba4d9/PE_Characteristics.png 564w\"\n        sizes=\"(max-width: 564px) 100vw, 564px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>Intel x86용 바이너리 임을 알 수 있다.</li>\n<li>4개의 섹션을 가지고 있다.</li>\n<li>Characteristics의 값은 0x102 = 0x100 + 0x002</li>\n</ul>\n<h3 id=\"image_optional_header\" style=\"position:relative;\"><a href=\"#image_optional_header\" aria-label=\"image_optional_header permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IMAGE_OPTIONAL_HEADER</h3>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">typedef</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_IMAGE_OPTIONAL_HEADER</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">*</span><span class=\"token operator\">*</span>WORD                 Magic<span class=\"token punctuation\">;</span><span class=\"token operator\">*</span><span class=\"token operator\">*</span>\n  BYTE                 MajorLinkerVersion<span class=\"token punctuation\">;</span>\n  BYTE                 MinorLinkerVersion<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfCode<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfInitializedData<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfUninitializedData<span class=\"token punctuation\">;</span>\n  DWORD                AddressOfEntryPoint<span class=\"token punctuation\">;</span>\n  DWORD                BaseOfCode<span class=\"token punctuation\">;</span>\n  DWORD                BaseOfData<span class=\"token punctuation\">;</span>\n  DWORD                ImageBase<span class=\"token punctuation\">;</span>\n  DWORD                SectionAlignment<span class=\"token punctuation\">;</span>\n  DWORD                FileAlignment<span class=\"token punctuation\">;</span>\n  WORD                 MajorOperatingSystemVersion<span class=\"token punctuation\">;</span>\n  WORD                 MinorOperatingSystemVersion<span class=\"token punctuation\">;</span>\n  WORD                 MajorImageVersion<span class=\"token punctuation\">;</span>\n  WORD                 MinorImageVersion<span class=\"token punctuation\">;</span>\n  WORD                 MajorSubsystemVersion<span class=\"token punctuation\">;</span>\n  WORD                 MinorSubsystemVersion<span class=\"token punctuation\">;</span>\n  DWORD                Win32VersionValue<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfImage<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfHeaders<span class=\"token punctuation\">;</span>\n  DWORD                CheckSum<span class=\"token punctuation\">;</span>\n  WORD                 Subsystem<span class=\"token punctuation\">;</span>\n  WORD                 DllCharacteristics<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfStackReserve<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfStackCommit<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfHeapReserve<span class=\"token punctuation\">;</span>\n  DWORD                SizeOfHeapCommit<span class=\"token punctuation\">;</span>\n  DWORD                LoaderFlags<span class=\"token punctuation\">;</span>\n  DWORD                NumberOfRvaAnds<span class=\"token punctuation\">;</span>\n  IMAGE_DATA_DIRECTORY DataDirectory<span class=\"token punctuation\">[</span>IMAGE_NUMBEROF_DIRECTORY_ENTRIES<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> IMAGE_OPTIONAL_HEADER32<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>PIMAGE_OPTIONAL_HEADER32<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>Magic</strong></p>\n<ul>\n<li>Image_Optional_Header32인지 64인지를 구분하게 한다.</li>\n<li>32 = 0x10B, 64 = 0x20B로 표시</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 624px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 4.444444444444445%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQUlEQVQI12Po3f+5ePPn5t2fO/Z+rt7+edKhzxVbPpVs/ly6BYpKNoOkJhz83L7nc/f+z/0HPnft+9x74HPv/s8AJVArvw78WsEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_Magic.png\"\n        title=\"./PE_Magic.png\"\n        src=\"/static/7d1978224a456823ba15ef9be9541eae/39c09/PE_Magic.png\"\n        srcset=\"/static/7d1978224a456823ba15ef9be9541eae/e9ff0/PE_Magic.png 180w,\n/static/7d1978224a456823ba15ef9be9541eae/f21e7/PE_Magic.png 360w,\n/static/7d1978224a456823ba15ef9be9541eae/39c09/PE_Magic.png 624w\"\n        sizes=\"(max-width: 624px) 100vw, 624px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><strong>Address of EntryPoint</strong></p>\n<ul>\n<li>파일이 메모리에 매핑된 후 코드 시작 주소를 나타낸다.</li>\n<li>PE 로더는 ImageBase 값에 이 값을 더해서 코드 시작 지점을 설명 해 준다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 333px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 7.777777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVQI1wF6AIX/AKbC36/K5q7Q8bbX+K7K5qO92qjD36fC3arI57TV9aK+3KfD4qrI56PB4abE46jA3pu62aG+3arG46G/3QBYrP5Zqv4vlfwnkfxXq/5erv9Yq/9gsP9MpP4rlPxbrf9jsf5TqP1Qp/9Npv5Yq/9crf9Np/9Ppv5brP4ryFV2M4vRiwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_AEP.png\"\n        title=\"./PE_AEP.png\"\n        src=\"/static/c5cc0a3381a4c35fb04360c4263e7e47/24c7e/PE_AEP.png\"\n        srcset=\"/static/c5cc0a3381a4c35fb04360c4263e7e47/e9ff0/PE_AEP.png 180w,\n/static/c5cc0a3381a4c35fb04360c4263e7e47/24c7e/PE_AEP.png 333w\"\n        sizes=\"(max-width: 333px) 100vw, 333px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><strong>SectionAlignment, FileAlignment</strong></p>\n<ul>\n<li>각각 메모리, 파일 상태에서 정렬 값으로, 섹션에서 크기가 남더라도 0으로 채워서 Alignment 값을 맞춰 준다.</li>\n<li>각 세션은 반드시 Alignment의 배수여야 한다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 278px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnklEQVQI1wXBWRKCMAwAUO5/MMe1rGlaSiFMgarDIvonxfhe5Ps+FQkAVqUZx4mZl2nK4kRpoyTWdbuHYK01pWkseT8UGVLTlEp13RC5lk6Hk4hTBTjNCzOPz+fleI5FmtyE1jZs3yLLK1NBLq2tbleBEh93v66f6OE95IXWhiyt65uZX/OMIKGQEsC5PoStdx2RQwCUSERN3f72nZn/Lfed/9FEJlIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_SAFA.png\"\n        title=\"./PE_SAFA.png\"\n        src=\"/static/4ea6b7a87fd42a8c4514aefbe9398607/4e29d/PE_SAFA.png\"\n        srcset=\"/static/4ea6b7a87fd42a8c4514aefbe9398607/e9ff0/PE_SAFA.png 180w,\n/static/4ea6b7a87fd42a8c4514aefbe9398607/4e29d/PE_SAFA.png 278w\"\n        sizes=\"(max-width: 278px) 100vw, 278px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><strong>Subsystem</strong></p>\n<ul>\n<li>동작 환경을 정의한 것</li>\n<li>시스템 드라이버 파일인 sys는 0x1, 대부분의 윈도우 기반 프로그램에 해당하는 GUI 프로그램의 경우 0x2, 콘솔창 기반의 CLI 프로그램의 경우 0x3의 값을 가진다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 623px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 2.7777777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAPElEQVQI103BQQrAMAgEwP7/cbaQHDRGaiAG/ITba2euiAPAdLAIs2QmfqoKwNlBdC9fpoPo0Wm9dX/9A5UBNmE7lN//AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_Subsystem.png\"\n        title=\"./PE_Subsystem.png\"\n        src=\"/static/8b1bf211a5a9b490027a008216b1ac1f/6114d/PE_Subsystem.png\"\n        srcset=\"/static/8b1bf211a5a9b490027a008216b1ac1f/e9ff0/PE_Subsystem.png 180w,\n/static/8b1bf211a5a9b490027a008216b1ac1f/f21e7/PE_Subsystem.png 360w,\n/static/8b1bf211a5a9b490027a008216b1ac1f/6114d/PE_Subsystem.png 623w\"\n        sizes=\"(max-width: 623px) 100vw, 623px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><strong>DataDirectory</strong></p>\n<ul>\n<li>NumberOfRbanAndSizes를 통해 디렉토리 수를 정해줄 수 있으나 일반적으로 아래와 같은 정형화된 16개의 디렉토리를 가진다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 538px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 110.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAIAAABPIytRAAAACXBIWXMAAAsTAAALEwEAmpwYAAADVklEQVQ4y2VUaZOqOhTk//+l+2YcR0fBBdd5igSykBC2kIAoS7y3XjGW9Zy5TVU+hOr06c7JMWZzezxZsCg9Ot7rYOQAvN0fPg8u8PHx5B9PnuvhTJaMJz6mEDPK07yohDoLdTa2K3synhZKIt9/exlAz3dPp6Io/vz+rXV30/pr7USaUkpDStM0vd20blvdtca/+8/1aiNziRFe2+sw5J7nK6W6rm0eaNs2SRLGGKNMiLzrurqum6YxlrP5ePQhhACuN3h59YB/PB6FyJumuT5Q13UUxxghgklASJZlTdNcLhdjba/Go0mWCR94w8Gb78EvsvhBTuIYQRSQACF8/9uT99vtfLaUUgaYTMYfGBEPeEoVWnftA13XCZEFJAhDThlTSrVtb8pYLZbTiaWk9D3/9dcL9NHnbh/xSGt9N3b3LIQgOGCMhYxxzrtOt21rfO52K3ujlEI+NCcmhAj0yqprvwWW3tNmYUhZQCjGuCxLw14sLWue57kHwGj0gSA+Oo6USmvdPJWdJClCiIc8DHlZllVV1XVtrGx7NBwnaQJcMBwMAQCHwyHNsuv1Wj1wuVw45x4AGBMEUZIkUspeeb/ZWuZMSkkQGQ9HCBEAvKIobrdb94DWulCKhzyO4jiKIh6FYdgrb1Zry5zleY4hGr29Q4hc181z2XXds2eZ5wSTKIqhB4OAQgizNDV22605taSUPXn4DiF2XSDlzw7LhQiCIMvEuSzL8lwUxfV6NVZL25xaSvXk4esbhMhxTkr9LLssCkppFEV1XV+q6nq9Xnrywp7N5kmS+J4/fh/7PdlJ06yqqvMDVVXFcUwwQQh7wPMA8H3kHB1jOVuYUyvLBPTh8HWAMXGc0/2qnjssTVOMSEAoDWjIWNGXpvvAlgtbiBwjbE3MgDIA7p6/BZYmCQ0oDznnUcjYPVFjY6/MqZmmGYLoYzRGCJ9OrpQ/007imAa9bPB1xL29jeV88TGaxHECPTh+78mHg/P3VWVZxjlnlH3ph9CHURwbu+1uZa/zXAYkMCdTQgLfh/KvYZBnotfkvG3bumnuL8ZYWDNzYomv9/zy6x/gesfj8a5cN/+jqqpC9d/TXmN87vbbzU4VBaNsZlqUMkzI+XzuZ9cTtNa3fnZ92/wPyo2qCrSmvowAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_DataDirectory.png\"\n        title=\"./PE_DataDirectory.png\"\n        src=\"/static/58fa06134a4068d7091ab48c653346eb/9516f/PE_DataDirectory.png\"\n        srcset=\"/static/58fa06134a4068d7091ab48c653346eb/e9ff0/PE_DataDirectory.png 180w,\n/static/58fa06134a4068d7091ab48c653346eb/f21e7/PE_DataDirectory.png 360w,\n/static/58fa06134a4068d7091ab48c653346eb/9516f/PE_DataDirectory.png 538w\"\n        sizes=\"(max-width: 538px) 100vw, 538px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>16개의 구조체의 배열로 이루어져 있으며 디렉토리별로 각각의 정보를 담고 있다.</li>\n<li>마지막 디렉토리는 현재 사용하지 않는다.</li>\n</ul>\n<p><strong>Export Directory</strong></p>\n<ul>\n<li>DLL 들의 파일에서 외부에서 함수를 공개하기 위한 정보들을 가지고 있다.</li>\n</ul>\n<p><strong>Import Directory</strong></p>\n<ul>\n<li>프로그램을 실행 하기 위해 Import 하는 DLL 이름과 사용할 함수 정보가 담긴 INT, IAT 주소 등의 정보가 들어 있다.</li>\n<li>PE 로더가 실행 시 주소값을 IAT에 동적으로 입력해 주기 위해 필요한 부분으로 내부 동작 방식이 상당히 복잡하다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.77777777777778%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAABsElEQVQoz1WQ0W6bMBSGef8nmVRVlVZp972YtoutaQg2GGyDMQ6BhKwQA7aBeCKMrP3031nnfP6PgyOcxMnpdLLWXq92wRgNgV8UZUxjzrkPYHk8juOklJqm6z0OClCSsLIoh2G4zc8LtNbu1s0yEaIopnGIwuJQdF3X1LVs5TRN4415OERh4Ad5nv8fVtrbefk+j1DEEgYBFEKoG1rrccXxdgBCH3iAJcyuKKW3G5dnwocIYwJhIMT+IuV7XTcXOYyjGQYzDA7YgZgmQoi+7+/mP1J9eQmffhUP39nDz+zxB/u6qZ699mnz/ryT3/x+iUMwxpiwhB3LY9f1d/PcmQsUIEIoBJCnvKkbKVultDHDEicm1AcB9ObnjwcDHsjzA4kIZylCYVVV12nq+14pZe11iRP4c+EkZp+urdTb5o2nmQ8DQgjwvJjGTd20UkrZmhWHYhL4AcHkcpHamOXbWmsI4CEvKKY85TiKztV5HMfV/A8HAojDiKecElpV1dpZvf5+ZQkDHsARdrcuwbiu67ad3R/MhEop7WeMNvOu8zkX+7IoRCa01tbaruu0NnfzX9YSX5E81A7HAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_ImportDirectory.png\"\n        title=\"./PE_ImportDirectory.png\"\n        src=\"/static/27693f3ad26fe75712ea6bd774253ac4/37523/PE_ImportDirectory.png\"\n        srcset=\"/static/27693f3ad26fe75712ea6bd774253ac4/e9ff0/PE_ImportDirectory.png 180w,\n/static/27693f3ad26fe75712ea6bd774253ac4/f21e7/PE_ImportDirectory.png 360w,\n/static/27693f3ad26fe75712ea6bd774253ac4/37523/PE_ImportDirectory.png 720w,\n/static/27693f3ad26fe75712ea6bd774253ac4/2bef9/PE_ImportDirectory.png 1024w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>외부 DLL 파일의 함수 주소를 가져올 때 Export Table를 참고하고, 여기서 찾은 주소를 Import Table을 활용해서 IAT(Import Address Table)에 저장해두고 사용한다.</li>\n<li>DLL import, export 과정 참고</li>\n</ul>\n<p><strong>Section Header</strong></p>\n<ul>\n<li>섹션은 실제 파일의 내용들이 존재하는 부분, 각 섹션 별로 섹션의 정보를 담고 있는 헤더를 가지고 있다.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">typedef</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">_IMAGE_SECTION_HEADER</span> <span class=\"token punctuation\">{</span>\n        BYTE  Name<span class=\"token punctuation\">[</span>IMAGE_SIZEOF_SHORT_NAME<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">union</span> <span class=\"token punctuation\">{</span>\n                DWORD PhysicalAddress<span class=\"token punctuation\">;</span>\n                DWORD VirtualSize<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> Misc<span class=\"token punctuation\">;</span>\n        DWORD VirtualAddress<span class=\"token punctuation\">;</span>\n        DWORD SizeOfRawData<span class=\"token punctuation\">;</span>\n        DWORD PointerToRawData<span class=\"token punctuation\">;</span>\n        DWORD PointerToRelocations<span class=\"token punctuation\">;</span>\n        DWORD PointerToLinenumbers<span class=\"token punctuation\">;</span>\n        WORD  NumberOfRelocations<span class=\"token punctuation\">;</span>\n        WORD  NumberOfLinenumbers<span class=\"token punctuation\">;</span>\n        DWORD Characteristics<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> IMAGE_SECTION_HEADER<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>PIMAGE_SECTION_HEADER<span class=\"token punctuation\">;</span></code></pre></div>\n<p>VirtualSize, VirtualAddress : 메모리상에서의 크기와 주소</p>\n<p>SizeOfRawData, PointerToRawData :  파일 상에서의 크기 offset</p>\n<p>Characteristics : 각 섹션의 특징</p>\n<table>\n<thead>\n<tr>\n<th>Value</th>\n<th>Des</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>IMAGE_SCN_MEN_READ0x40000000</td>\n<td>The section can be read.</td>\n</tr>\n<tr>\n<td>IMAGE_SCN_MEM_WRITE0x80000000</td>\n<td>The section can be written to.</td>\n</tr>\n<tr>\n<td>IMAGE_SCN_MEM_EXECUTE0x20000000</td>\n<td>The section can be executed as code.</td>\n</tr>\n</tbody>\n</table>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 563px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAABY0lEQVQoz32QW2+CQBCF+eV9k6ZPJr2kP6UPjbSmRms03uoCy6K7i4JVEBSEhYXFRmzSB2NPJpPzMDPfyUhgCnqf3eXSpoQgZBJMnKXNEnY8HsuyrLrwPE8IcbyQZFFL1/RDdNis1wZEQbDz/cBzPcb+9q9JUqeg0+qEYWgR2mq2bNvRNG1hLRzbCfygmimvnZAooWAK4jjZfK8no4nnbVfOyqILgjEllKXpf2SowV63H4ahs7TbH2134xo6BF8AGWg0HCPDrNhXlk1kDofjKDqkjGmqnnGO59gilGJqQGM+x8XFq8qzqtgEQoOxNPB9FahRGM2QqQHVInQX7ML9viiKnOd5nouiEEKczS+Z53nGeSEE5zzNsozzQX/Q7fZixs5hOc9HwwmEEKEZALoKNIxpwtITWVaYrLBaIzkbWUke3/3npn+rJLXGqeRG/NT068q2rmzvG+7D2/bu1bt52csK+wFaTe0s5ANWEQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./PE_IMAGE_SCN_MEM_REAED.png\"\n        title=\"./PE_IMAGE_SCN_MEM_REAED.png\"\n        src=\"/static/d4d8ba8ed360d96a3ba6877722909025/7cb89/PE_IMAGE_SCN_MEM_REAED.png\"\n        srcset=\"/static/d4d8ba8ed360d96a3ba6877722909025/e9ff0/PE_IMAGE_SCN_MEM_REAED.png 180w,\n/static/d4d8ba8ed360d96a3ba6877722909025/f21e7/PE_IMAGE_SCN_MEM_REAED.png 360w,\n/static/d4d8ba8ed360d96a3ba6877722909025/7cb89/PE_IMAGE_SCN_MEM_REAED.png 563w\"\n        sizes=\"(max-width: 563px) 100vw, 563px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<ul>\n<li>섹션의 크기, 위치 등을 알 수 있고 .text 섹션에 코드가 포함되어 있으며 읽기 및 실행 권한이 존재함을 알 수 있다.</li>\n</ul>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#pe-%ED%8C%8C%EC%9D%BC-portable-excutable\">PE 파일 (Portable Excutable)</a></p>\n</li>\n<li>\n<p><a href=\"#pe-%ED%8C%8C%EC%9D%BC%EC%9D%98-%EC%A2%85%EB%A5%98\">PE 파일의 종류</a></p>\n</li>\n<li>\n<p><a href=\"#calcexe-pe-%EA%B5%AC%EC%A1%B0-%EB%B6%84%EC%84%9D\">Calc.exe PE 구조 분석</a></p>\n<ul>\n<li><a href=\"#image_dos_header-dos-stub\">Image_DOS_HEADER, DOS Stub</a></li>\n<li><a href=\"#dos-stub\">DOS Stub</a></li>\n<li><a href=\"#image_nt_headers\">IMAGE_NT_HEADERS</a></li>\n<li><a href=\"#image_optional_header\">IMAGE_OPTIONAL_HEADER</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 02, 2020","title":"Windows PE","categories":"Windows Theory","author":"Zer0Luck","emoji":"🧩"},"fields":{"slug":"/windowPE_theori/"}},"prev":{"id":"979f613e-d145-5edf-b828-47e97667a264","html":"<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">root<span class=\"token variable\">@kali</span><span class=\"token operator\">:</span><span class=\"token operator\">~</span><span class=\"token comment\"># msfconsole</span>\n                                                  \n<span class=\"token constant\">IIIIII</span>    dTb<span class=\"token punctuation\">.</span>dTb        _<span class=\"token punctuation\">.</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token operator\">-</span><span class=\"token punctuation\">.</span>_\n  <span class=\"token constant\">II</span>     <span class=\"token number\">4</span><span class=\"token string-literal\"><span class=\"token string\">'  v  '</span></span><span class=\"token constant\">B</span>   <span class=\"token punctuation\">.</span><span class=\"token string-literal\"><span class=\"token string\">'\"\".'</span></span><span class=\"token operator\">/</span><span class=\"token operator\">|</span>\\`<span class=\"token punctuation\">.</span><span class=\"token string-literal\"><span class=\"token string\">\"\"</span></span>'<span class=\"token punctuation\">.</span>\n  <span class=\"token constant\">II</span>     <span class=\"token number\">6.</span>     <span class=\"token punctuation\">.</span><span class=\"token constant\">P</span>  <span class=\"token operator\">:</span>  <span class=\"token punctuation\">.</span>' <span class=\"token operator\">/</span> <span class=\"token operator\">|</span> \\ `<span class=\"token punctuation\">.</span>  <span class=\"token operator\">:</span>\n  <span class=\"token constant\">II</span>     <span class=\"token string-literal\"><span class=\"token string\">'T;. .;P'</span></span>  <span class=\"token string-literal\"><span class=\"token string\">'.'</span></span>  <span class=\"token operator\">/</span>  <span class=\"token operator\">|</span>  \\  `<span class=\"token punctuation\">.</span>'\n  <span class=\"token constant\">II</span>      <span class=\"token string-literal\"><span class=\"token string\">'T; ;P'</span></span>    `<span class=\"token punctuation\">.</span> <span class=\"token operator\">/</span>   <span class=\"token operator\">|</span>   \\ <span class=\"token punctuation\">.</span>'\n<span class=\"token constant\">IIIIII</span>     <span class=\"token string-literal\"><span class=\"token string\">'YvP'</span></span>       `<span class=\"token operator\">-</span><span class=\"token punctuation\">.</span>__<span class=\"token operator\">|</span>__<span class=\"token punctuation\">.</span><span class=\"token operator\">-</span>'\n\n<span class=\"token constant\">I</span> love shells <span class=\"token operator\">-</span><span class=\"token operator\">-</span>egypt\n\n       <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span> metasploit v5<span class=\"token punctuation\">.</span><span class=\"token number\">0.2</span><span class=\"token operator\">-</span>dev                           <span class=\"token punctuation\">]</span>\n<span class=\"token operator\">+</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token operator\">-</span><span class=\"token operator\">-=</span><span class=\"token punctuation\">[</span> <span class=\"token number\">1852</span> exploits <span class=\"token operator\">-</span> <span class=\"token number\">1046</span> auxiliary <span class=\"token operator\">-</span> <span class=\"token number\">325</span> post       <span class=\"token punctuation\">]</span>\n<span class=\"token operator\">+</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token operator\">-</span><span class=\"token operator\">-=</span><span class=\"token punctuation\">[</span> <span class=\"token number\">541</span> payloads <span class=\"token operator\">-</span> <span class=\"token number\">44</span> encoders <span class=\"token operator\">-</span> <span class=\"token number\">10</span> nops            <span class=\"token punctuation\">]</span>\n<span class=\"token operator\">+</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token operator\">-</span><span class=\"token operator\">-=</span><span class=\"token punctuation\">[</span> <span class=\"token number\">2</span> evasion                                       <span class=\"token punctuation\">]</span>\n<span class=\"token operator\">+</span> <span class=\"token operator\">-</span><span class=\"token operator\">-</span> <span class=\"token operator\">-</span><span class=\"token operator\">-=</span><span class=\"token punctuation\">[</span> <span class=\"token operator\">**</span> This is Metasploit <span class=\"token number\">5</span> development branch <span class=\"token operator\">**</span>   <span class=\"token punctuation\">]</span></code></pre></div>\n<h3 id=\"하드-드라이브-공간\" style=\"position:relative;\"><a href=\"#%ED%95%98%EB%93%9C-%EB%93%9C%EB%9D%BC%EC%9D%B4%EB%B8%8C-%EA%B3%B5%EA%B0%84\" aria-label=\"하드 드라이브 공간 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>하드 드라이브 공간</h3>\n<ul>\n<li>10 GB 이상의 사용 가능한 저장 공간</li>\n<li>대용량 파일 시스템을 지원하는 NTFS, EXT3 또는 기타 파일 시스템 형식을 선택 해야 한다.</li>\n<li>필요한 권장 공간 30 GB 정도</li>\n</ul>\n<h3 id=\"사용-가능한-메모리\" style=\"position:relative;\"><a href=\"#%EC%82%AC%EC%9A%A9-%EA%B0%80%EB%8A%A5%ED%95%9C-%EB%A9%94%EB%AA%A8%EB%A6%AC\" aria-label=\"사용 가능한 메모리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>사용 가능한 메모리</h3>\n<ul>\n<li>호스트 OS에 RAM과 각 가상 머신에 할당하는 RAM의 충분한 양이 필요한다.</li>\n<li>Linux 호스트 최소 메모리 요구 사항\n<ul>\n<li>1GB의 시스템 메모리 (2GB 정도면 적당)</li>\n</ul>\n</li>\n<li>Kali Linux Guest 최소 메모리 요구 사항\n<ul>\n<li>최소 1GB의 RAM (2GB 권장)</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"프로세서\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%A1%9C%EC%84%B8%EC%84%9C\" aria-label=\"프로세서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프로세서</h3>\n<ul>\n<li>64 bit 쿠드 코어 CPU 이상을 권장한다.</li>\n</ul>\n<p>AWS (Amazon Web Server) 상에서 칼리 리눅스, 메타스폴로잇을 구동을 하여 외부 서비스를 점검을 하게 된다. 대외적으로 클라우드 서비스 환경에서도 올려 사용하고 있다.</p>\n<hr>\n<h2 id=\"metasploitable-피해자-환경\" style=\"position:relative;\"><a href=\"#metasploitable-%ED%94%BC%ED%95%B4%EC%9E%90-%ED%99%98%EA%B2%BD\" aria-label=\"metasploitable 피해자 환경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>METASPLOITABLE (피해자 환경)</h2>\n<p>악용 프레임 위크를 사용하는 방법을 배울 때 발생하는 문제 중 하나는 검색하고 공격 할 대상을 찾고 구성하는 것 해당 이미지는 의도적으로 취약한 Linux 가상 머신으로, 보안 교육, 보안 툴 테스트 및 일반적인 침투 테스트 기술을 수행하는데 사용할 수 있다.</p>\n<ul>\n<li>공격을 당할 희생자 라고 보면 된다.</li>\n<li>metasploitable은 희생자 PC를 제공해 주고 있다.</li>\n<li>외부 네트워크로 올리지 말고 내부 네트워크 에서 테스트를 진행 한다.</li>\n</ul>\n<p><strong>다운로드 주소</strong></p>\n<p><a href=\"http://sourceforge.net/projects/metasploitable/files/Metasploitable2/\">Metasploitable</a></p>\n<p>해당 이미지 파일을 가상화 할 경우 네트워크에 노출 시키면 안된다.!! 반드시 NAT 또는 호스트 전용 모드로 사용 바람</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxklEQVQoz42Q247EIAxDuSWFxIGh/P+/jkpmq9FqV+p5wpEDxiF8kTYhhBjjLVNKRPQtY4xEdHmYWVVba8xcazWzummtqSoAM3ODbZhZRFT1eq2U4u7jh1orEanqPeeN3+gGD3iFyTmnlEopOedSik+IyKXj8v7RBwBrLQBzTgDneZpZ793zY6OqYwwRCb8QkTmnqr42c861Vu8dADPHGD8J/8QLaK2JCAAR6b37h/0M4N/l4zjGGL7mDYfneDfeljcUN0+W3zqsCzI9KDFkAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./metasploitable_banner.png\"\n        title=\"./metasploitable_banner.png\"\n        src=\"/static/ec25fb6511a95752a69aae8e0c410fec/c5bb3/metasploitable_banner.png\"\n        srcset=\"/static/ec25fb6511a95752a69aae8e0c410fec/e9ff0/metasploitable_banner.png 180w,\n/static/ec25fb6511a95752a69aae8e0c410fec/f21e7/metasploitable_banner.png 360w,\n/static/ec25fb6511a95752a69aae8e0c410fec/c5bb3/metasploitable_banner.png 680w\"\n        sizes=\"(max-width: 680px) 100vw, 680px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 673px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.77777777777777%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkklEQVQoz5WQW08TQRiG58dQG4wXRQ1RqbagZN3aUuhhabWI4W/Cff8DVzCzhc10t98c1tDMaUl3QVI80efqyZt5884Mqu/42x8bX5rd+rb/5t3O1vvdas17vVmrfvBq9cbbrU8br6rPX2yWypVSufJsfaOQ0vrLtXIFHQ5/fB2dtA8GweB4+O2kF3xvtnq94Ki51/cbnWBw7Pn7nxudbn/Uah/uenu94KjdGfpeq9sfIYIJJuHFxeUlJoSEhIQYk0k4wZhgTMJcSDhZCLlLFsdyQVmOs9YYU7jW2hijtVZKmZxCtFLZMkhKCTBjjMVxzDkHgDiOkySZzWaUUgDgnE+nUyEEY1wp5VxmrbMLHHLO6RxjjLV2Pp/f7dyHxXLhzrmlZZ4jpWSMcc6FEGmaSimLHAAeFZbKlNIkSa5zoigqbmit/fXy7O8gAGCMTXMopcU+AAghsv+Bfo/+cc/H5asrOR7rKLKMOWuzlUBh+PPsTI3HGmP75MmHsjw91efnJlsdpLVNU3dz41ad/fOHPb18C6LuFeQsUidjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"./metasploitable_web.png\"\n        title=\"./metasploitable_web.png\"\n        src=\"/static/7fe07730df3de972d911c26aa69eeb6d/c391c/metasploitable_web.png\"\n        srcset=\"/static/7fe07730df3de972d911c26aa69eeb6d/e9ff0/metasploitable_web.png 180w,\n/static/7fe07730df3de972d911c26aa69eeb6d/f21e7/metasploitable_web.png 360w,\n/static/7fe07730df3de972d911c26aa69eeb6d/c391c/metasploitable_web.png 673w\"\n        sizes=\"(max-width: 673px) 100vw, 673px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>VM 구성에 있어서는 자세한 내용 Rapid7 공식 홈 페이지에 가이드가 있으니 참고 바람</p>\n<p><a href=\"https://community.rapid7.com/docs/DOC-1875\">Metasploitable 2 Exploitability Guide</a></p>\n<hr>\n<h2 id=\"window--피해자-환경-구축\" style=\"position:relative;\"><a href=\"#window--%ED%94%BC%ED%95%B4%EC%9E%90-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95\" aria-label=\"window  피해자 환경 구축 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Window  피해자 환경 구축</h2>\n<p>윈도우 환경에서는 각각의 애플리케이션 취약점을 바탕으로 점검을 진행하는데 해당 환경을 구축하기 위해 윈도우 서버나 일반 테스트 윈도우를 설치하여 실습을 진행한다.</p>\n<p><strong>윈도우 테스트</strong></p>\n<p><a href=\"https://developer.microsoft.com/en-us/microsoft-edge/tools/vms/\">Virtual Machines</a></p>\n<p><strong>윈도우 2016 서버 테스트</strong></p>\n<p><a href=\"https://www.microsoft.com/ko-kr/evalcenter/evaluate-windows-server-2016/\">Microsoft Evaluation Center에서 Windows Server 2016 시도</a></p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<ul>\n<li><a href=\"#%ED%95%98%EB%93%9C-%EB%93%9C%EB%9D%BC%EC%9D%B4%EB%B8%8C-%EA%B3%B5%EA%B0%84\">하드 드라이브 공간</a></li>\n<li><a href=\"#%EC%82%AC%EC%9A%A9-%EA%B0%80%EB%8A%A5%ED%95%9C-%EB%A9%94%EB%AA%A8%EB%A6%AC\">사용 가능한 메모리</a></li>\n<li><a href=\"#%ED%94%84%EB%A1%9C%EC%84%B8%EC%84%9C\">프로세서</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#metasploitable-%ED%94%BC%ED%95%B4%EC%9E%90-%ED%99%98%EA%B2%BD\">METASPLOITABLE (피해자 환경)</a></p>\n</li>\n<li>\n<p><a href=\"#window--%ED%94%BC%ED%95%B4%EC%9E%90-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95\">Window  피해자 환경 구축</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"June 05, 2020","title":"Metasploit 환경 구성","categories":"Tools","author":"Zer0Luck","emoji":"🎮"},"fields":{"slug":"/Metasploit1_theori/"}},"site":{"siteMetadata":{"siteUrl":"https://zer0luck.kr","comments":{"utterances":{"repo":"dnsdudrla97/dnsdudrla97.github.io"}}}}},"pageContext":{"slug":"/Metasploit2_theori/","nextSlug":"/windowPE_theori/","prevSlug":"/Metasploit1_theori/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}